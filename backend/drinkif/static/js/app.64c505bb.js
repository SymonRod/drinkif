(function(e){function t(t){for(var a,c,r=t[0],o=t[1],l=t[2],u=0,h=[];u<r.length;u++)c=r[u],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&h.push(n[c][0]),n[c]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);d&&d(t);while(h.length)h.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],a=!0,r=1;r<s.length;r++){var o=s[r];0!==n[o]&&(a=!1)}a&&(i.splice(t--,1),e=c(c.s=s[0]))}return e}var a={},n={app:0},i=[];function c(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.m=e,c.c=a,c.d=function(e,t,s){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(s,a,function(t){return e[t]}.bind(null,a));return s},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var d=o;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0825":function(e){e.exports=JSON.parse('{"navbar-title":"Bevise","select-language":"Cambia lingua","new-sentence":"Estrai frase","do-not-repeat":"Non ripetere","sentence-available":"Sono ancora disponibili <strong> {count} </strong> frasi","navbar":{"sentences":"Le tue frasi","logout":"Esci","login":"Accedi","friends":"Amici","profile":"Il tuo profilo"},"home":{"welcome":"Benvenuto","need-login":"Per usare questa app devi <a href=\'#/login\'>accedere</a> o <a href=\'#/register\'>registrarti</a>","include-friends-sentences":"Includi le frasi di:","enable-tts":"Abilita TTS"},"add-sentences":"Aggiungi frasi","add-sentences-here":"Aggiungi frasi qui","your-sentences":"Le tue frasi","add-phrases":"Aggiungi frasi","delete":"Elimina","confirm-deletion":"Conferma eliminazione","confirm-deletion-text":"Sei sicuro di voler eliminare questa frase?","confirm-deletion-button-agree":"Sono sicuro eliminala!","confirm-deletion-button-deny":"Nope!","sentence-deleted":"Frase eliminata","sentence-added":"Frase aggiunta","password-requirements":"La password deve contenere almeno 8 caratteri, una lettera maiuscola, una lettera minuscola e un numero","paginator":{"previous":"Prec.","next":"Succ.","first":"Prima","last":"Ultima","search":"Cerca"},"modal-edit":{"title":"Modifica frase","save":"Salva","cancel":"Annulla"},"sign-up":{"button":"Registrati","title":"Registrati","errors":{"password-requirements":"La password deve contenere almeno 8 caratteri, una lettera maiuscola, una lettera minuscola e un numero","username-taken":"Questo username Ã¨ giÃ  in uso"}},"login":{"button":"Accedi","title":"Accedi","create-account":"Non hai un account?","errors":{"password-incorrect":"La password Ã¨ sbagliata","username-does-not-exits":"Questo username non esiste"}},"sentence-edited":"Frase modificata con successo","share-text":"Leggi questa frase","no-sentences-available":"Non ci sono frasi disponibili, per aggiungere vai nel menu e clicca su \'Le le tue frasi\'","friends":{"errors":{"username-does-not-exits":"Questo username non esiste","check-your-invoice":"Controlla le tue richieste di amicizia","already-requested":"Richiesta di amicizia gia inviata","already-friends":"Sei gia amico","no-request-found":"Nessuna richiesta trovata"},"modal":{"remove":{"title":"Rimuovi amico","text":"Sei sicuro di voler rimuovere questo amico?","button-agree":"SÃ¬, rimuovilo!","button-deny":"No, non rimuovilo!"}},"title":"I tuoi amici","add-friend":"Aggiungi amico","requests":"Richieste di amicizia","no-request-recived":"Non hai ricevuto richieste di amicizia","friend":"I tuoi amici","avatar-seed":"Seed Avatar","description":"Descrizione","no-description":"Nessuna descrizione","since":"Da","remove":"Rimuovi amico","friend-removed":"Amico rimosso","request-sent":"Richiesta inviata"},"profile":{"title":"Il tuo profilo","avatar-seed":"Seed Avatar","description":"Descrizione","no-description":"Nessuna descrizione","since":"Da"},"tts-error":"Errore TTS","start-game":"Inizia il gioco","stop-game":"Ferma il gioco"}')},"1f97":function(e,t,s){},"2cae":function(e,t,s){"use strict";s("9ab9")},5687:function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("82a2"),s("d24d"),s("a60f"),s("7dbc"),s("be3b");var a=s("241b");function n(e,t,s,n,i,c){var r=Object(a["B"])("Navbar"),o=Object(a["B"])("router-view");return Object(a["u"])(),Object(a["g"])("div",null,[Object(a["j"])(r),Object(a["j"])(o)])}var i=function(e){return Object(a["x"])("data-v-d1d3c044"),e=e(),Object(a["v"])(),e},c={class:"navbar has-background-dark"},r={class:"container"},o={class:"navbar-brand"},l={class:"title mt-3 mb-1 ml-2 has-text-primary"},d=Object(a["i"])("DrinkIf"),u=i((function(){return Object(a["h"])("a",{class:"navbar-item",href:"#"},null,-1)})),h=i((function(){return Object(a["h"])("span",{class:"navbar-burger burger","data-target":"navbarMenu"},[Object(a["h"])("span"),Object(a["h"])("span"),Object(a["h"])("span")],-1)})),b={id:"navbarMenu",class:"navbar-menu has-background-dark"},m={class:"navbar-end"},p={class:"navbar-item"},f={key:0,class:"navbar-item"},O={key:1,class:"navbar-item"},j={key:2,class:"navbar-item"},g={class:"navbar-item"},v={key:1,href:"/api/logout"};function y(e,t,s,n,i,y){var S=Object(a["B"])("router-link"),k=Object(a["B"])("SelectLocale");return Object(a["u"])(),Object(a["g"])("nav",c,[Object(a["h"])("div",r,[Object(a["h"])("div",o,[Object(a["h"])("p",l,[Object(a["j"])(S,{to:"/"},{default:Object(a["J"])((function(){return[d]})),_:1})]),u,h]),Object(a["h"])("div",b,[Object(a["h"])("div",m,[Object(a["h"])("div",p,[Object(a["i"])(Object(a["D"])(e.$t("select-language"))+" ",1),Object(a["j"])(k)]),null!=e.$store.state.user?(Object(a["u"])(),Object(a["g"])("div",f,[Object(a["j"])(S,{to:"/phrases"},{default:Object(a["J"])((function(){return[Object(a["i"])(Object(a["D"])(e.$t("navbar.sentences")),1)]})),_:1})])):Object(a["f"])("",!0),null!=e.$store.state.user?(Object(a["u"])(),Object(a["g"])("div",O,[Object(a["j"])(S,{to:"/profile"},{default:Object(a["J"])((function(){return[Object(a["i"])(Object(a["D"])(e.$t("navbar.profile")),1)]})),_:1})])):Object(a["f"])("",!0),null!=e.$store.state.user?(Object(a["u"])(),Object(a["g"])("div",j,[Object(a["j"])(S,{to:"/friends"},{default:Object(a["J"])((function(){return[Object(a["i"])(Object(a["D"])(e.$t("navbar.friends")),1)]})),_:1})])):Object(a["f"])("",!0),Object(a["h"])("div",g,[null==e.$store.state.user?(Object(a["u"])(),Object(a["e"])(S,{key:0,to:"/login"},{default:Object(a["J"])((function(){return[Object(a["i"])(Object(a["D"])(e.$t("navbar.login")),1)]})),_:1})):Object(a["f"])("",!0),null!=e.$store.state.user?(Object(a["u"])(),Object(a["g"])("a",v,Object(a["D"])(e.$t("navbar.logout")),1)):Object(a["f"])("",!0)])])])])])}s("91ce"),s("a4c0"),s("f90c"),s("a815"),s("2f81");var S=["value"];function k(e,t,s,n,i,c){return Object(a["K"])((Object(a["u"])(),Object(a["g"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$i18n.locale=t}),class:"select ml-2",id:"select-language"},[(Object(a["u"])(!0),Object(a["g"])(a["a"],null,Object(a["A"])(i.langs,(function(e,t){return Object(a["u"])(),Object(a["g"])("option",{key:"lang-".concat(t.value),value:e.value},Object(a["D"])(e.description),9,S)})),128))],512)),[[a["G"],e.$i18n.locale]])}var $={name:"SelectLocale",data:function(){return{langs:[{value:"en-US",description:"English ðŸ‡ºðŸ‡¸"},{value:"it-IT",description:"Italiano ðŸ‡®ðŸ‡¹"}]}}},x=s("85dd"),_=s.n(x);const D=_()($,[["render",k]]);var w=D,I={name:"Navbar",props:{},computed:{},components:{SelectLocale:w}};document.addEventListener("DOMContentLoaded",(function(){var e=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);e.length>0&&e.forEach((function(e){e.addEventListener("click",(function(){var t=e.dataset.target,s=document.getElementById(t);e.classList.toggle("is-active"),s.classList.toggle("is-active")}))}))}));s("2cae");const N=_()(I,[["render",y],["__scopeId","data-v-d1d3c044"]]);var R=N,P=s("940b"),C=s.n(P),F={name:"App",components:{Navbar:R},mounted:function(){var e=this,t="";null==localStorage.getItem("locale")?localStorage.setItem("locale",t):t=localStorage.getItem("locale"),C.a.post("/api/csrf").then((function(){e.$store.dispatch("getUserData")}))}};const L=_()(F,[["render",n]]);var q=L,T=(s("347e"),s("065d"),s("3f08"),s("d41c"),s("5774"),s("5f55"),s("9d92"),s("3cff")),A=Object(T["a"])({state:{user:null==JSON.parse(localStorage.getItem("user"))?null:JSON.parse(localStorage.getItem("user")),friends:[],doNotRepeat:null!=JSON.parse(localStorage.getItem("doNotRepeat"))&&JSON.parse(localStorage.getItem("doNotRepeat")),current_phrase:null==JSON.parse(localStorage.getItem("current_phrase"))?{phrase_text:"",phrase_id:null}:JSON.parse(localStorage.getItem("current_phrase")),history:[],available:null==JSON.parse(localStorage.getItem("available"))?[]:JSON.parse(localStorage.getItem("available")),min:null==JSON.parse(localStorage.getItem("min"))?0:JSON.parse(localStorage.getItem("min")),max:null==JSON.parse(localStorage.getItem("max"))?100:JSON.parse(localStorage.getItem("max")),phrases:null==JSON.parse(localStorage.getItem("sentences"))?[]:JSON.parse(localStorage.getItem("sentences")),errors:[]},mutations:{set_phrase:function(e,t){e.current_phrase=t,localStorage.setItem("current_phrase",JSON.stringify(e.current_phrase))},random_phrase:function(e){if(0==e.phrases.length)e.errors.push("no-sentences-available");else if(e.doNotRepeat){if(e.available.length<=0)return;var t=Math.ceil(0),s=Math.floor(e.available.length-1),a=Math.floor(Math.random()*(s-t+1)+t),n=e.available.indexOf(e.available.at(a));this.commit("set_phrase",e.available.at(a)),n>-1&&e.available.splice(n,1),localStorage.setItem("available",JSON.stringify(e.available))}else{var i=Math.ceil(e.min),c=Math.floor(e.max),r=Math.floor(Math.random()*(c-i+1)+i);this.commit("set_phrase",e.phrases.at(r))}},updateMax:function(e,t){var s=parseInt(t);s!=e.max&&(isNaN(s)||(e.max=s,localStorage.setItem("max",JSON.stringify(s)),this.commit("updateDoNotRepeat",e.doNotRepeat)),this.commit("set_phrase",{phrase_text:"",phrase_id:null}))},updateMin:function(e,t){var s=parseInt(t);s!=e.min&&(isNaN(s)||(e.min=s,localStorage.setItem("min",JSON.stringify(s)),this.commit("updateDoNotRepeat",e.doNotRepeat)),this.commit("set_phrase",{phrase_text:"",phrase_id:null}))},updateDoNotRepeat:function(e,t){e.doNotRepeat=t},updateAvailable:function(e,t){e.available=t,localStorage.setItem("available",JSON.stringify(e.available))},clear_errors:function(e){e.errors=[]},updateUser:function(e,t){e.user=t,localStorage.setItem("user",JSON.stringify(e.user))},updatePhrases:function(e,t){e.phrases=t,localStorage.setItem("sentences",JSON.stringify(e.user))},updateFriends:function(e,t){e.friends=t},clearHistory:function(e){e.history=[]},addToHistory:function(e,t){var s={phrase_text:t.phrase_text,id:t.id,creator:t.creator};e.history.push(s)}},actions:{doNotRepeat:function(e,t){var s=e.commit,a=e.state,n=t.includeFriends;if(s("updateDoNotRepeat",t.doNotRepeat),localStorage.setItem("doNotRepeat",JSON.stringify(t)),a.doNotRepeat){var i=a.phrases.filter((function(e){return!!e.public&&(e.creator==a.user.username||(!!n[e.creator]||void 0))}));s("updateAvailable",i),localStorage.setItem("available",JSON.stringify(a.available))}},getFriends:function(e){var t=e.commit;C.a.get("/api/get_friends").then((function(e){200===e.status&&t("updateFriends",e.data.friends)}))},setSentenceVisibility:function(e,t){var s=e.commit,a=e.state,n=t.id,i=t.visibility,c=t.trigger;function r(e){var t="; ".concat(document.cookie),s=t.split("; ".concat(e,"="));if(2===s.length)return s.pop().split(";").shift()}c.classList.add("is-loading");var o=r("csrftoken");C.a.post("/api/change_sentence_visibility",{id:n,visibility:i},{headers:{"X-CSRFToken":o}}).then((function(e){if(c.classList.remove("is-loading"),200===e.status){var t=a.phrases;t.forEach((function(e){e.id==n&&(e.public=i)})),s("updatePhrases",t)}}))},getPhrases:function(e){var t=e.commit;C.a.get("/api/get_phrases").then((function(e){t("updatePhrases",e.data.phrases),t("updateMax",e.data.phrases.length),t("updateMin",0)})).catch((function(){}))},random_phrase:function(e){var t=e.commit;t("random_phrase")},getUserData:function(e){var t=this,s=e.commit;C.a.get("/api/get_user_info").then((function(e){200===e.status&&(s("updateUser",e.data),t.dispatch("getPhrases"),t.dispatch("getFriends"))})).catch((function(e){403==e.response.status&&s("updateUser",null)}))}},modules:{}}),E=s("d41b"),U=s("8902"),J=s.n(U),M=function(e){return Object(a["x"])("data-v-73bf6270"),e=e(),Object(a["v"])(),e},H={class:"hero"},B={class:"has-text-centered m-3 title"},V=["innerHTML"],z=M((function(){return Object(a["h"])("div",{class:"has-text-centered m-3"},[Object(a["h"])("figure",{alt:"Drunk",class:"image is-128x128 is-inline-block"},[Object(a["h"])("img",{src:J.a,alt:""})])],-1)})),G={key:0,class:"has-text-centered"},K={class:"has-text-white is-size-3 has-text-weight-bold"},X={key:0},Q={class:"has-text-centered m-3"},Y={key:0,class:"columns"},W={class:"column is-4 is-offset-4"},Z={class:"card has-text-black"},ee={class:"is-size-5 p-2 has-text-black has-text-weight-bold"},te=["for"],se=["id","onUpdate:modelValue"],ae={key:1,class:"has-text-centered m-3"},ne={for:"enableTTS",class:"has-text-white ml-5"},ie={key:2,class:"columns"},ce={class:"column is-4 is-offset-4"},re={key:0,class:"message is-primary"},oe={class:"message-body"},le=["innerHTML"],de={key:3,class:"columns"},ue={class:"column is-4 is-offset-4 has-text-centered has-text-white"},he=M((function(){return Object(a["h"])("span",{class:"icon is-small"},[Object(a["h"])("i",{class:"fas fa-hand-paper"})],-1)})),be={key:4,class:"columns"},me={class:"column is-4 is-offset-4 has-text-centered has-text-white"},pe=M((function(){return Object(a["h"])("span",{class:"icon is-small"},[Object(a["h"])("i",{class:"fas fa-bug"})],-1)})),fe=M((function(){return Object(a["h"])("span",null,"Debug",-1)})),Oe=[pe,fe],je=M((function(){return Object(a["h"])("a",{id:"downloadAnchorElem",style:{display:"none"}},null,-1)}));function ge(e,t,s,n,i,c){return Object(a["u"])(),Object(a["g"])("section",H,[Object(a["h"])("div",null,[Object(a["h"])("div",B,[Object(a["h"])("p",{innerHTML:null!=this.$store.state.user?"":this.$t("home.need-login")},null,8,V)]),z,null!=e.$store.state.user&&i.isStarted?(Object(a["u"])(),Object(a["g"])("div",G,[Object(a["h"])("span",K,Object(a["D"])(e.$store.state.current_phrase.phrase_text),1)])):Object(a["f"])("",!0)]),null!=e.$store.state.user?(Object(a["u"])(),Object(a["g"])("div",X,[Object(a["h"])("div",Q,[i.isStarted?(Object(a["u"])(),Object(a["g"])("button",{key:1,onClick:t[1]||(t[1]=function(){return c.extractSentece&&c.extractSentece.apply(c,arguments)}),class:"button is-primary is-outlined"},Object(a["D"])(e.$t("new-sentence")),1)):(Object(a["u"])(),Object(a["g"])("button",{key:0,onClick:t[0]||(t[0]=function(){return c.startGame&&c.startGame.apply(c,arguments)}),class:"button is-primary"},Object(a["D"])(e.$t("start-game")),1))]),e.$store.state.friends.length>0&&!i.isStarted?(Object(a["u"])(),Object(a["g"])("div",Y,[Object(a["h"])("div",W,[Object(a["h"])("div",Z,[Object(a["h"])("p",ee,Object(a["D"])(e.$t("home.include-friends-sentences")),1),(Object(a["u"])(!0),Object(a["g"])(a["a"],null,Object(a["A"])(e.$store.state.friends,(function(e){return Object(a["u"])(),Object(a["g"])("label",{key:e.id,for:"check-sentences-"+e.username,class:"checkbox column"},[Object(a["K"])(Object(a["h"])("input",{type:"checkbox",name:"",id:"check-sentences-"+e.username,"onUpdate:modelValue":function(t){return i.includeFriends[e.username]=t}},null,8,se),[[a["F"],i.includeFriends[e.username]]]),Object(a["i"])(" "+Object(a["D"])(e.username),1)],8,te)})),128))])])])):Object(a["f"])("",!0),i.isStarted?(Object(a["u"])(),Object(a["g"])("div",ae,[Object(a["h"])("label",ne,[Object(a["K"])(Object(a["h"])("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=function(e){return i.enableTTS=e}),id:"enableTTS"},null,512),[[a["F"],i.enableTTS]]),Object(a["i"])(" "+Object(a["D"])(e.$t("home.enable-tts")),1)])])):Object(a["f"])("",!0),i.isStarted?(Object(a["u"])(),Object(a["g"])("div",ie,[Object(a["h"])("div",ce,[c.doNotRepeat?(Object(a["u"])(),Object(a["g"])("article",re,[Object(a["h"])("div",oe,[Object(a["h"])("p",{innerHTML:e.$t("sentence-available",{count:e.$store.state.available.length})},null,8,le)])])):Object(a["f"])("",!0)])])):Object(a["f"])("",!0),i.isStarted?(Object(a["u"])(),Object(a["g"])("div",de,[Object(a["h"])("div",ue,[Object(a["h"])("div",{class:"button is-danger",onClick:t[3]||(t[3]=function(){return c.stopGame&&c.stopGame.apply(c,arguments)})},[he,Object(a["h"])("span",null,Object(a["D"])(e.$t("stop-game")),1)])])])):Object(a["f"])("",!0),e.$store.state.user.isDeveloper?(Object(a["u"])(),Object(a["g"])("div",be,[Object(a["h"])("div",me,[Object(a["h"])("div",{class:"button is-success",onClick:t[4]||(t[4]=function(){return c.debugDownload&&c.debugDownload.apply(c,arguments)})},Oe)])])):Object(a["f"])("",!0)])):Object(a["f"])("",!0),je])}var ve=s("f464"),ye={name:"Home",data:function(){return{isStarted:null!=JSON.parse(localStorage.getItem("isStarted"))&&JSON.parse(localStorage.getItem("isStarted")),includeFriends:{},friendsSentences:{},enableTTS:!1,audio:new Audio}},methods:{startGame:function(){this.isStarted=!0,localStorage.setItem("isStarted",!0),this.$store.dispatch("doNotRepeat",{doNotRepeat:!0,includeFriends:this.includeFriends}),this.$store.commit("clearHistory"),this.$store.commit("set_phrase",{})},stopGame:function(){this.isStarted=!1,localStorage.setItem("isStarted",!1),this.$store.dispatch("doNotRepeat",{doNotRepeat:!1,includeFriends:this.includeFriends})},extractSentece:function(){var e=this;if(0!=this.sentences.length){if(!(this.$store.state.available.length<=0)){var t=Math.ceil(0),s=Math.floor(this.$store.state.available.length-1),a=Math.floor(Math.random()*(s-t+1)+t),n=this.$store.state.available.indexOf(this.$store.state.available.at(a));this.$store.commit("set_phrase",this.$store.state.available.at(n)),this.$store.commit("addToHistory",this.$store.state.available.at(n)),n>-1&&this.$store.state.available.splice(n,1),localStorage.setItem("available",JSON.stringify(this.$store.state.available)),this.enableTTS&&C.a.get("/api/gtts?sentence="+encodeURIComponent(this.$store.state.current_phrase.phrase_text)).then((function(t){e.audio.pause(),e.audio.currentTime=0,e.audio.src=t.data.url,e.audio.play()})).catch((function(){Object(ve["toast"])({message:e.$t("tts-error"),type:"is-warning",position:"top-right",duration:12e3,dismissible:!0})}))}}else Object(ve["toast"])({message:this.$t("no-sentences-available"),type:"is-warning",position:"top-right",duration:12e3,dismissible:!0})},debugDownload:function(){var e={friends:this.$store.state.friends,doNotRepeat:this.$store.state.doNotRepeat,current_phrase:this.$store.state.current_phrase,history:this.$store.state.history,available:this.$store.state.available,phrases:this.$store.state.phrases,errors:this.$store.state.errors},t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),s=document.getElementById("downloadAnchorElem");s.setAttribute("href",t),s.setAttribute("download","debug.json"),s.click()}},mounted:function(){},computed:{sentences:function(){var e=this;return this.$store.state.phrases.filter((function(t){return t.creator==e.$store.state.user.username||(!!e.includeFriends[t.creator]||void 0)}))},doNotRepeat:{get:function(){return this.$store.state.doNotRepeat}},min:{get:function(){return this.$store.state.min},set:function(e){this.$store.commit("updateMin",e)}},max:{get:function(){return this.$store.state.max},set:function(e){this.$store.commit("updateMax",e)}},state_errors:{get:function(){return this.$store.state.errors}}}};s("e637");const Se=_()(ye,[["render",ge],["__scopeId","data-v-73bf6270"]]);var ke=Se,$e={class:"about"},xe=Object(a["h"])("h1",null,"This is an about page",-1),_e=[xe];function De(e,t){return Object(a["u"])(),Object(a["g"])("div",$e,_e)}const we={},Ie=_()(we,[["render",De]]);var Ne=Ie,Re={class:"columns"},Pe={id:"login-view",class:"column is-half is-offset-one-quarter"},Ce={class:"card m-6 p-4"},Fe={class:"has-text-black title"},Le={class:"field"},qe={class:"control has-icons-left"},Te=Object(a["h"])("span",{class:"icon is-small is-left"},[Object(a["h"])("i",{class:"fas fa-envelope has-text-primary"})],-1),Ae={class:"field"},Ee={class:"control has-icons-left"},Ue=Object(a["h"])("span",{class:"icon is-small is-left"},[Object(a["h"])("i",{class:"fas fa-lock has-text-primary"})],-1),Je={class:"button ml-2"};function Me(e,t,s,n,i,c){var r=Object(a["B"])("router-link");return Object(a["u"])(),Object(a["g"])("div",Re,[Object(a["h"])("div",Pe,[Object(a["h"])("div",Ce,[Object(a["h"])("h1",Fe,Object(a["D"])(e.$t("login.title")),1),Object(a["h"])("div",Le,[Object(a["h"])("p",qe,[Object(a["K"])(Object(a["h"])("input",{class:"input",type:"username",placeholder:"username","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.username=e})},null,512),[[a["H"],i.username]]),Te])]),Object(a["h"])("div",Ae,[Object(a["h"])("p",Ee,[Object(a["K"])(Object(a["h"])("input",{class:"input",type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.password=e})},null,512),[[a["H"],i.password]]),Ue])]),Object(a["h"])("div",null,[Object(a["h"])("button",{onClick:t[2]||(t[2]=function(e){return c.login()}),id:"login-button",class:"button"},Object(a["D"])(e.$t("login.button")),1),Object(a["h"])("div",Je,[Object(a["j"])(r,{to:"/register"},{default:Object(a["J"])((function(){return[Object(a["i"])(Object(a["D"])(e.$t("login.create-account")),1)]})),_:1})])])])])])}function He(e){var t="; ".concat(document.cookie),s=t.split("; ".concat(e,"="));if(2===s.length)return s.pop().split(";").shift()}var Be={data:function(){return{username:"",password:""}},methods:{login:function(){var e=this,t=He("csrftoken");document.getElementById("login-button").classList.add("is-loading"),C.a.post("/api/login",{username:this.username,password:this.password},{headers:{"X-CSRFToken":t}}).then((function(t){200===t.status&&(e.$store.dispatch("getUserData"),e.$router.push("/")),document.getElementById("login-button").classList.remove("is-loading")})).catch((function(t){if(500!=t.response.status){var s=t.response.data.description;null==s&&(s="Generic error"),Object(ve["toast"])({message:e.$t(s),type:"is-danger",duration:1e4})}document.getElementById("login-button").classList.remove("is-loading")}))}}};s("d985");const Ve=_()(Be,[["render",Me]]);var ze=Ve,Ge={class:"columns"},Ke={id:"login-view",class:"column is-half is-offset-one-quarter"},Xe={class:"card m-6 p-4"},Qe={class:"has-text-black title"},Ye={class:"field"},We={class:"control has-icons-left has-icons-right"},Ze=Object(a["h"])("span",{class:"icon is-small is-left"},[Object(a["h"])("i",{class:"fas fa-envelope"})],-1),et=Object(a["h"])("span",{class:"icon is-small is-right"},[Object(a["h"])("i",{class:"fas fa-check"})],-1),tt={class:"field"},st={class:"control has-icons-left has-text-black p-2"},at=Object(a["h"])("span",{class:"icon is-small is-left"},[Object(a["h"])("i",{class:"fas fa-lock"})],-1);function nt(e,t,s,n,i,c){return Object(a["u"])(),Object(a["g"])("div",Ge,[Object(a["h"])("div",Ke,[Object(a["h"])("div",Xe,[Object(a["h"])("h1",Qe,Object(a["D"])(e.$t("sign-up.title")),1),Object(a["h"])("div",Ye,[Object(a["h"])("p",We,[Object(a["K"])(Object(a["h"])("input",{class:"input",type:"username",placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.username=e})},null,512),[[a["H"],i.username]]),Ze,et])]),Object(a["h"])("div",tt,[Object(a["h"])("p",st,[Object(a["i"])(Object(a["D"])(e.$t("password-requirements"))+" ",1),Object(a["K"])(Object(a["h"])("input",{class:"input mt-1",type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.password=e})},null,512),[[a["H"],i.password]]),at])]),Object(a["h"])("div",null,[Object(a["h"])("button",{onClick:t[2]||(t[2]=function(t){return c.register(e.inputs)}),id:"register-button",class:"button"},Object(a["D"])(e.$t("sign-up.button")),1)])])])])}function it(e){var t="; ".concat(document.cookie),s=t.split("; ".concat(e,"="));if(2===s.length)return s.pop().split(";").shift()}var ct={data:function(){return{username:"",password:""}},methods:{register:function(){var e=this,t=it("csrftoken");document.getElementById("register-button").classList.add("is-loading"),C.a.post("/api/register",{username:this.username,password:this.password},{headers:{"X-CSRFToken":t}}).then((function(e){200===e.status&&(null!=e.data.description&&Object(ve["toast"])({message:e.data.description,type:"is-success",duration:1e4}),window.location.href="/"),document.getElementById("register-button").classList.remove("is-loading")})).catch((function(t){if(500!=t.response.status){var s=t.response.data.description;null==s&&(s="Generic error"),Object(ve["toast"])({message:e.$t(s),type:"is-danger",duration:1e4})}document.getElementById("register-button").classList.remove("is-loading")}))}}};s("7a7a");const rt=_()(ct,[["render",nt]]);var ot=rt,lt=(s("28ee"),{class:"columns"}),dt={id:"phrases-view",class:"column is-half is-offset-one-quarter"},ut={class:"card m-auto p-4"},ht={class:"has-text-black title"},bt={class:"has-text-black"},mt={class:"m-1"},pt={class:"title has-text-white m-3 has-text-centered"},ft={class:"container"},Ot={class:"columns is-centered is-mobile"},jt={class:"column auto has-text-centered"},gt=["disabled"],vt=["disabled"],yt={class:"has-text-white m-2 subtitle"},St=["disabled"],kt=["disabled"],$t={lass:"columns is-centered"},xt={class:"column auto has-text-centered is-one-third is-offset-one-third"},_t=["placeholder"],Dt={class:"columns"},wt={class:"column is-one-third is-offset-one-third"},It={class:"card m-2 p-3 has-text-black"},Nt={class:"has-text-black columns is-flex is-vcentered m-0"},Rt=Object(a["h"])("strong",null," UUID ",-1),Pt={class:"card-content"},Ct={class:"content"},Ft={class:"card-footer"},Lt=["onClick"],qt=Object(a["h"])("span",{class:"material-icons"},"delete",-1),Tt=[qt],At=["onClick"],Et=Object(a["h"])("span",{class:"material-icons","data-target":"modal-edit"},"edit",-1),Ut=[Et],Jt=["onClick"],Mt=Object(a["h"])("span",{class:"material-icons"},"share",-1),Ht=[Mt],Bt=["id","onClick"],Vt=Object(a["h"])("i",{class:"fas fa-globe-europe"},null,-1),zt=[Vt],Gt=["id","onClick"],Kt=Object(a["h"])("i",{class:"fas fa-lock"},null,-1),Xt=[Kt],Qt={id:"modal-edit",class:"modal"},Yt=Object(a["h"])("div",{class:"modal-background"},null,-1),Wt={class:"modal-card"},Zt={class:"modal-card-head"},es={class:"modal-card-title"},ts=Object(a["h"])("button",{class:"delete","aria-label":"close"},null,-1),ss={class:"modal-card-body"},as={class:"modal-card-foot"},ns={class:"button"},is={id:"modal-confirm-delete",class:"modal"},cs=Object(a["h"])("div",{class:"modal-background"},null,-1),rs={class:"modal-card"},os={class:"modal-card-head"},ls={class:"modal-card-title"},ds=Object(a["h"])("button",{class:"delete","aria-label":"close"},null,-1),us={class:"modal-card-body"},hs={class:"modal-card-foot"},bs={class:"button"};function ms(e,t,s,n,i,c){return Object(a["u"])(),Object(a["g"])("div",null,[Object(a["h"])("div",lt,[Object(a["h"])("div",dt,[Object(a["h"])("div",ut,[Object(a["h"])("h1",ht,Object(a["D"])(e.$t("add-sentences")),1),Object(a["h"])("p",bt,Object(a["D"])(e.$t("add-sentences-here")),1),Object(a["K"])(Object(a["h"])("textarea",{class:"textarea",placeholder:"","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.phrases=t})},null,512),[[a["H"],e.phrases]]),Object(a["h"])("div",mt,[Object(a["h"])("button",{class:"button is-primary is-outlined",onClick:t[1]||(t[1]=function(){return c.add_phrases&&c.add_phrases.apply(c,arguments)})},Object(a["D"])(e.$t("add-phrases")),1)])])])]),Object(a["h"])("div",pt,Object(a["D"])(e.$t("your-sentences")),1),Object(a["h"])("div",ft,[Object(a["h"])("div",Ot,[Object(a["h"])("div",jt,[Object(a["h"])("button",{class:"button",onClick:t[2]||(t[2]=function(){return c.firstPage&&c.firstPage.apply(c,arguments)}),disabled:""!=e.search},Object(a["D"])(e.$t("paginator.first")),9,gt),Object(a["h"])("button",{class:"button",onClick:t[3]||(t[3]=function(){return c.previousPage&&c.previousPage.apply(c,arguments)}),disabled:""!=e.search},Object(a["D"])(e.$t("paginator.previous")),9,vt),Object(a["h"])("span",yt,Object(a["D"])(e.currentPage),1),Object(a["h"])("button",{class:"button",onClick:t[4]||(t[4]=function(){return c.nextPage&&c.nextPage.apply(c,arguments)}),disabled:""!=e.search},Object(a["D"])(e.$t("paginator.next")),9,St),Object(a["h"])("button",{class:"button",onClick:t[5]||(t[5]=function(){return c.lastPage&&c.lastPage.apply(c,arguments)}),disabled:""!=e.search},Object(a["D"])(e.$t("paginator.last")),9,kt)])])]),Object(a["h"])("div",$t,[Object(a["h"])("div",xt,[Object(a["K"])(Object(a["h"])("input",{type:"text",name:"",id:"",placeholder:e.$t("paginator.search"),class:"input","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.search=t})},null,8,_t),[[a["H"],e.search]])])]),(Object(a["u"])(!0),Object(a["g"])(a["a"],null,Object(a["A"])(c.page,(function(e){return Object(a["u"])(),Object(a["g"])("div",{key:e.id,class:""},[Object(a["h"])("div",Dt,[Object(a["h"])("div",wt,[Object(a["h"])("div",It,[Object(a["h"])("div",Nt,[Rt,Object(a["i"])(" #"+Object(a["D"])(e.id),1)]),Object(a["h"])("div",Pt,[Object(a["h"])("div",Ct,Object(a["D"])(e.phrase_text),1)]),Object(a["h"])("div",Ft,[Object(a["h"])("button",{class:"button is-danger is-outlined m-2 js-modal-trigger card-footer-item","data-target":"modal-confirm-delete",onClick:function(t){return c.set_delete_id(e.id)}},Tt,8,Lt),Object(a["h"])("button",{class:"button is-primary is-outlined m-2 js-modal-trigger card-footer-item",onClick:function(t){return c.set_edit_id(e.id)}},Ut,8,At),c.shareEnabled?(Object(a["u"])(),Object(a["g"])("button",{key:0,class:"button is-success is-outlined m-2 card-footer-item",onClick:function(t){return c.share(e.id)}},Ht,8,Jt)):Object(a["f"])("",!0),e.public?(Object(a["u"])(),Object(a["g"])("button",{key:1,class:"button is-success m-2 card-footer-item",id:e.id+"_sentence_public",onClick:function(t){return c.set_visibility(e.id,!1,t)}},zt,8,Bt)):(Object(a["u"])(),Object(a["g"])("button",{key:2,class:"button is-warning m-2 card-footer-item",id:e.id+"_sentence_private",onClick:function(t){return c.set_visibility(e.id,!0,t)}},Xt,8,Gt))])])])])])})),128)),Object(a["h"])("div",Qt,[Yt,Object(a["h"])("div",Wt,[Object(a["h"])("header",Zt,[Object(a["h"])("p",es,Object(a["D"])(e.$t("modal-edit.title")),1),ts]),Object(a["h"])("section",ss,[Object(a["K"])(Object(a["h"])("textarea",{name:"",id:"",cols:"30",rows:"3","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.edit_text=t}),class:"textarea"},null,512),[[a["H"],e.edit_text]])]),Object(a["h"])("footer",as,[Object(a["h"])("button",{class:"button is-danger",onClick:t[8]||(t[8]=function(){return c.confirm_save&&c.confirm_save.apply(c,arguments)})},Object(a["D"])(e.$t("modal-edit.save")),1),Object(a["h"])("button",ns,Object(a["D"])(e.$t("modal-edit.cancel")),1)])])]),Object(a["h"])("div",is,[cs,Object(a["h"])("div",rs,[Object(a["h"])("header",os,[Object(a["h"])("p",ls,Object(a["D"])(e.$t("confirm-deletion")),1),ds]),Object(a["h"])("section",us,Object(a["D"])(e.$t("confirm-deletion-text")),1),Object(a["h"])("footer",hs,[Object(a["h"])("button",{class:"button is-danger",onClick:t[9]||(t[9]=function(){return c.confirm_delete&&c.confirm_delete.apply(c,arguments)})},Object(a["D"])(e.$t("confirm-deletion-button-agree")),1),Object(a["h"])("button",bs,Object(a["D"])(e.$t("confirm-deletion-button-deny")),1)])])])])}s("adcc"),s("a453"),s("346f");function ps(e){var t="; ".concat(document.cookie),s=t.split("; ".concat(e,"="));if(2===s.length)return s.pop().split(";").shift()}var fs={data:function(){return{delete_id:-1,edit_id:-1,edit_text:"",itemPerPage:5,currentPage:null==localStorage.getItem("currentPage")?1:localStorage.getItem("currentPage"),search:"",phrases:""}},computed:{shareEnabled:function(){return void 0!=navigator.share},sentences:function(){var e,t=this;try{e=this.$store.state.phrases.filter((function(e){return e.creator==t.$store.state.user.username}))}catch(s){e=[]}return e},page:{get:function(){var e=this,t=[];return t=""!=this.search?this.sentences.filter((function(t){var s=t.phrase_text.toLowerCase(),a=e.search.toLowerCase();return s.includes(a)})):this.sentences.slice((this.currentPage-1)*this.itemPerPage,this.currentPage*this.itemPerPage),t}}},methods:{set_visibility:function(e,t,s){this.$store.dispatch("setSentenceVisibility",{id:e,visibility:t,trigger:s.target})},firstPage:function(){this.currentPage=1},lastPage:function(){this.currentPage=Math.ceil(this.sentences.length/this.itemPerPage)},previousPage:function(){this.currentPage>1&&this.currentPage--},nextPage:function(){this.currentPage<this.sentences.length/this.itemPerPage&&this.currentPage++},confirm_delete:function(){var e=this,t=ps("csrftoken");C.a.post("/api/delete_phrase",{id:this.delete_id},{headers:{"X-CSRFToken":t}}).then((function(){e.$store.dispatch("getPhrases"),Object(ve["toast"])({message:e.$t("sentence-deleted"),type:"is-danger",dismissible:!0,pauseOnHover:!0,duration:3e3,position:"top-right"})})).catch((function(){}))},set_delete_id:function(e){function t(e){e.classList.add("is-active")}this.delete_id=e,t(document.getElementById("modal-confirm-delete"))},set_edit_id:function(e){function t(e){e.classList.add("is-active")}this.edit_id=e,this.edit_text=this.sentences.find((function(t){return t.id==e})).phrase_text,t(document.getElementById("modal-edit"))},confirm_save:function(){var e=this,t=ps("csrftoken");C.a.post("/api/edit_phrase",{id:this.edit_id,text:this.edit_text},{headers:{"X-CSRFToken":t}}).then((function(){e.$store.dispatch("getPhrases"),Object(ve["toast"])({message:e.$t("sentence-edited"),type:"is-success",pauseOnHover:!0,duration:3e3,position:"top-right"})})).catch((function(){}))},add_phrases:function(){var e=this,t=this.phrases.split(/\r?\n/),s=ps("csrftoken");C.a.post("/api/add_phrases",{phrases:t},{headers:{"X-CSRFToken":s}}).then((function(t){200===t.status&&(e.$store.dispatch("getPhrases"),e.phrases="",Object(ve["toast"])({message:"Sentences added!",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:3e3,position:"top-right"}))}))},share:function(e){var t=window.location,s=t.protocol+"//"+t.host+"/"+t.pathname.split("/")[1];navigator.share({title:"DrinkIf",text:this.$t("share-text"),url:s+"#/share/"+e})}},mounted:function(){function e(e){e.classList.add("is-active")}function t(e){e.classList.remove("is-active")}function s(){(document.querySelectorAll(".modal")||[]).forEach((function(e){t(e)}))}null==this.$store.state.user&&this.$router.push("/"),(document.querySelectorAll(".js-modal-trigger")||[]).forEach((function(t){var s=t.dataset.target,a=document.getElementById(s);t.addEventListener("click",(function(){e(a)}))})),(document.querySelectorAll(".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button")||[]).forEach((function(e){var s=e.closest(".modal");e.addEventListener("click",(function(){t(s)}))})),document.addEventListener("keydown",(function(e){var t=e||window.event;27===t.keyCode&&s()}))},watch:{currentPage:function(e){localStorage.setItem("currentPage",e)}}};const Os=_()(fs,[["render",ms]]);var js=Os,gs={class:"hero is-fullheight"},vs={class:"columns"},ys={class:"column is-one-third is-offset-one-third"},Ss={class:"card has-text-black m-6 p-4"},ks={class:"card-body"};function $s(e,t,s,n,i,c){return Object(a["u"])(),Object(a["g"])("div",gs,[Object(a["h"])("div",vs,[Object(a["h"])("div",ys,[Object(a["h"])("div",Ss,[Object(a["h"])("div",null,[Object(a["h"])("strong",null," #UUID "+Object(a["D"])(e.sentence.id),1)]),Object(a["h"])("div",ks,Object(a["D"])(e.sentence.text),1)])])])])}var xs={data:function(){return{sentence:{id:null,text:""}}},mounted:function(){var e=this;this.$route.params.id,C.a.post("/api/get_by_id",{id:this.$route.params.id}).then((function(t){e.sentence=t.data.sentence}))}};const _s=_()(xs,[["render",$s]]);var Ds=_s,ws={class:"container"},Is={class:"has-text-white title m-2 has-text-centered"},Ns={class:"columns"},Rs={class:"column is-one-third"},Ps={class:"subtitle"},Cs={class:"field has-addons"},Fs={class:"control has-icons-left"},Ls=Object(a["h"])("span",{class:"icon is-left has-text-primary"},[Object(a["h"])("i",{class:"fas fa-user-plus"})],-1),qs={class:"control"},Ts=Object(a["h"])("i",{class:"fas fa-plus"},null,-1),As=[Ts],Es={class:"columns"},Us={class:"column"},Js={class:"subtitle"},Ms={key:0,class:"has-text-white"},Hs={class:"columns is-multiline"},Bs={class:"card"},Vs={class:"card-content"},zs={class:"media"},Gs={class:"media-left"},Ks={class:"image is-48x48"},Xs=["src"],Qs={class:"media-content"},Ys={class:"title"},Ws={class:"card-footer"},Zs=["onClick"],ea=Object(a["h"])("strong",null,[Object(a["h"])("span",{class:"material-icons has-text-success"},"done")],-1),ta=[ea],sa=["onClick"],aa=Object(a["h"])("strong",null,[Object(a["h"])("span",{class:"material-icons has-text-danger"},"close")],-1),na=[aa],ia={class:"has-text-white subtitle"},ca={class:"columns has-text-black is-multiline"},ra={class:"card has-text-black"},oa=Object(a["h"])("div",{class:"card-image"},null,-1),la={class:"card-content"},da={class:"media"},ua={class:"media-left"},ha={class:"image is-48x48"},ba=["src"],ma={class:"media-content"},pa={class:"title"},fa=Object(a["h"])("div",null,null,-1),Oa={class:"content"},ja={class:""},ga=["value"],va={class:"has-text-grey"},ya={class:"card-footer"},Sa=["onClick"],ka=Object(a["h"])("i",{class:"fas fa-user-slash"},null,-1),$a={id:"modal-friends-remove",class:"modal"},xa=Object(a["h"])("div",{class:"modal-background"},null,-1),_a={class:"modal-card mx-2"},Da={class:"modal-card-head"},wa={class:"modal-card-title"},Ia=Object(a["h"])("button",{class:"delete","aria-label":"close"},null,-1),Na={class:"modal-card-body"},Ra={class:"modal-card-foot"},Pa={class:"button"};function Ca(e,t,s,n,i,c){var r=this;return Object(a["u"])(),Object(a["g"])("div",ws,[Object(a["h"])("h1",Is,Object(a["D"])(this.$t("friends.title")),1),Object(a["h"])("div",Ns,[Object(a["h"])("div",Rs,[Object(a["h"])("div",Ps,Object(a["D"])(this.$t("friends.add-friend")),1),Object(a["h"])("div",Cs,[Object(a["h"])("p",Fs,[Object(a["K"])(Object(a["h"])("input",{class:"input",type:"username",placeholder:"username","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchFriend=t})},null,512),[[a["H"],e.searchFriend]]),Ls]),Object(a["h"])("div",qs,[Object(a["h"])("a",{class:"button is-primary",id:"add-button",onClick:t[1]||(t[1]=function(){return c.sendFriendRequest&&c.sendFriendRequest.apply(c,arguments)})},As)])])])]),Object(a["h"])("div",Es,[Object(a["h"])("div",Us,[Object(a["h"])("div",Js,Object(a["D"])(this.$t("friends.requests")),1),0==e.friendRequestsReceived.length?(Object(a["u"])(),Object(a["g"])("p",Ms,Object(a["D"])(this.$t("friends.no-request-recived")),1)):Object(a["f"])("",!0),Object(a["h"])("div",Hs,[(Object(a["u"])(!0),Object(a["g"])(a["a"],null,Object(a["A"])(e.friendRequestsReceived,(function(e){return Object(a["u"])(),Object(a["g"])("div",{class:"column is-one-quarter",key:e.id},[Object(a["h"])("div",Bs,[Object(a["h"])("div",Vs,[Object(a["h"])("div",zs,[Object(a["h"])("div",Gs,[Object(a["h"])("figure",Ks,[Object(a["h"])("img",{src:e.avatar.url,alt:"Placeholder image",class:"is-rounded"},null,8,Xs)])]),Object(a["h"])("div",Qs,[Object(a["h"])("p",Ys,Object(a["D"])(e.username),1)])])]),Object(a["h"])("footer",Ws,[Object(a["h"])("span",{style:{cursor:"pointer"},class:"card-footer-item",onClick:function(t){return c.handle_friendship_request(e.username,!0)}},ta,8,Zs),Object(a["h"])("span",{style:{cursor:"pointer"},class:"card-footer-item",onClick:function(t){return c.handle_friendship_request(e.username,!1)}},na,8,sa)])])])})),128))])])]),Object(a["h"])("div",ia,Object(a["D"])(this.$t("friends.friend")),1),Object(a["h"])("div",ca,[(Object(a["u"])(!0),Object(a["g"])(a["a"],null,Object(a["A"])(this.$store.state.friends,(function(e){return Object(a["u"])(),Object(a["g"])("div",{class:"column is-one-third",key:e.id},[Object(a["h"])("div",ra,[oa,Object(a["h"])("div",la,[Object(a["h"])("div",da,[Object(a["h"])("div",ua,[Object(a["h"])("figure",ha,[Object(a["h"])("img",{src:e.avatar.url,alt:"Placeholder image",class:"is-rounded"},null,8,ba)])]),Object(a["h"])("div",ma,[Object(a["h"])("p",pa,Object(a["D"])(e.username),1),fa])]),Object(a["h"])("div",Oa,[Object(a["h"])("label",ja,[Object(a["i"])(Object(a["D"])(r.$t("friends.avatar-seed"))+" ",1),Object(a["h"])("input",{type:"text",class:"input",disabled:"",value:e.avatar.seed},null,8,ga)]),Object(a["h"])("p",null,Object(a["D"])(r.$t("friends.description")),1),Object(a["h"])("p",null,Object(a["D"])(""==e.description?r.$t("profile.no-description"):e.description),1),Object(a["h"])("div",null,[Object(a["h"])("p",va,Object(a["D"])(r.$t("friends.since"))+" "+Object(a["D"])(c.getHumanDate(e.creation_date)),1)])]),Object(a["h"])("footer",ya,[Object(a["h"])("div",{class:"card-footer-item has-text-danger",style:{cursor:"pointer"},onClick:function(t){return c.confirmRemoveFriend(e.username)}},[Object(a["i"])(Object(a["D"])(r.$t("friends.remove"))+" ",1),ka],8,Sa)])])])])})),128))]),Object(a["h"])("div",$a,[xa,Object(a["h"])("div",_a,[Object(a["h"])("header",Da,[Object(a["h"])("p",wa,Object(a["D"])(e.$t("friends.modal.remove.title")),1),Ia]),Object(a["h"])("section",Na,Object(a["D"])(e.$t("friends.modal.remove.text",e.removeFriendUsername)),1),Object(a["h"])("footer",Ra,[Object(a["h"])("button",{class:"button is-danger",onClick:t[2]||(t[2]=function(){return c.RemoveFriend&&c.RemoveFriend.apply(c,arguments)})},Object(a["D"])(e.$t("friends.modal.remove.button-agree")),1),Object(a["h"])("button",Pa,Object(a["D"])(e.$t("friends.modal.remove.button-deny")),1)])])])])}function Fa(e){var t="; ".concat(document.cookie),s=t.split("; ".concat(e,"="));if(2===s.length)return s.pop().split(";").shift()}var La={data:function(){return{removeFriendUsername:"",searchFriend:"",friendRequestsReceived:[]}},methods:{getHumanDate:function(e){var t={weekday:"long",year:"numeric",month:"long",day:"numeric"},s=new Date(e);return s.toLocaleDateString(navigator.language,t)},RemoveFriend:function(){var e=this,t=Fa("csrftoken");C.a.post("/api/remove_friend",{username:this.removeFriendUsername},{headers:{"X-CSRFToken":t}}).then((function(t){200===t.status&&(e.getFriendshipRequests(),e.$store.dispatch("getUserData"),Object(ve["toast"])({message:e.$t("friends.friend-removed"),type:"is-success",duration:6e3}))})).catch((function(t){if(500!=t.response.status){var s=t.response.data.description;null==s&&(s="Generic error"),Object(ve["toast"])({message:e.$t(s),type:"is-danger",duration:1e4})}}))},confirmRemoveFriend:function(e){function t(e){e.classList.add("is-active")}this.removeFriendUsername=e,t(document.getElementById("modal-friends-remove"))},handle_friendship_request:function(e,t){var s=this,a=Fa("csrftoken");C.a.post("/api/handle_friendship_requests",{username:e,accepted:t},{headers:{"X-CSRFToken":a}}).then((function(e){200===e.status&&(s.getFriendshipRequests(),s.$store.dispatch("getUserData"))})).catch((function(){}))},getFriendshipRequests:function(){var e=this,t=Fa("csrftoken");C.a.post("/api/get_friendship_requests",{},{headers:{"X-CSRFToken":t}}).then((function(t){200===t.status&&(e.friendRequestsReceived=t.data.requests)})).catch((function(){}))},sendFriendRequest:function(){var e=this;document.getElementById("add-button").classList.add("is-loading");var t=Fa("csrftoken");C.a.post("/api/new_friendship_request",{username:this.searchFriend},{headers:{"X-CSRFToken":t}}).then((function(t){200===t.status&&Object(ve["toast"])({message:e.$t("friends.request-sent"),type:"is-success",duration:6e3}),document.getElementById("add-button").classList.remove("is-loading")})).catch((function(t){if(500!=t.response.status){var s=t.response.data.description;null==s&&(s="Generic error"),Object(ve["toast"])({message:e.$t(s),type:"is-danger",duration:1e4})}document.getElementById("add-button").classList.remove("is-loading")}))}},mounted:function(){function e(e){e.classList.remove("is-active")}this.$store.dispatch("getUserData"),this.getFriendshipRequests(),(document.querySelectorAll(".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button")||[]).forEach((function(t){var s=t.closest(".modal");t.addEventListener("click",(function(){e(s)}))}))}};const qa=_()(La,[["render",Ca]]);var Ta=qa,Aa={class:"container"},Ea={class:"has-text-white title m-2 has-text-centered"},Ua={class:"columns has-text-black"},Ja={class:"column is-half is-offset-one-quarter"},Ma={class:"card has-text-black m-3"},Ha=Object(a["h"])("div",{class:"card-image"},null,-1),Ba={class:"card-content"},Va={class:"media"},za={class:"media-left"},Ga={class:"image is-48x48"},Ka=["src"],Xa={class:"media-content"},Qa={class:"is-size-3 has-text-weight-bold"},Ya={class:"content"},Wa={class:"mb-1"},Za={for:"avatar-seed",class:"field has-addons"},en=["value"],tn={class:"control"},sn=Object(a["h"])("i",{class:"fas fa-dice-d20"},null,-1),an=[sn],nn={class:"has-text-grey"};function cn(e,t,s,n,i,c){return Object(a["u"])(),Object(a["g"])("div",Aa,[Object(a["h"])("h1",Ea,Object(a["D"])(this.$t("profile.title")),1),Object(a["h"])("div",Ua,[Object(a["h"])("div",Ja,[Object(a["h"])("div",Ma,[Ha,Object(a["h"])("div",Ba,[Object(a["h"])("div",Va,[Object(a["h"])("div",za,[Object(a["h"])("figure",Ga,[Object(a["h"])("img",{src:this.$store.state.user.avatar.url,alt:"Placeholder image",class:"is-rounded"},null,8,Ka)])]),Object(a["h"])("div",Xa,[Object(a["h"])("p",Qa,Object(a["D"])(this.$store.state.user.username),1)])]),Object(a["h"])("div",Ya,[Object(a["h"])("div",Wa,[Object(a["h"])("label",Za,[Object(a["i"])(Object(a["D"])(this.$t("profile.avatar-seed"))+" ",1),Object(a["h"])("input",{id:"avatar-seed",type:"text",class:"input",disabled:"",value:this.$store.state.user.avatar.seed},null,8,en),Object(a["h"])("div",tn,[Object(a["h"])("a",{class:"button is-primary",id:"add-button",onClick:t[0]||(t[0]=function(){return c.newAvatarSeed&&c.newAvatarSeed.apply(c,arguments)})},an)])])]),Object(a["h"])("p",null,Object(a["D"])(this.$t("profile.description")),1),Object(a["h"])("p",null,Object(a["D"])(""==this.$store.state.user.description?this.$t("profile.no-description"):this.$store.state.user.description),1),Object(a["h"])("p",nn,Object(a["D"])(this.$t("profile.since"))+" "+Object(a["D"])(c.date_joined),1)])])])])])])}function rn(e){var t="; ".concat(document.cookie),s=t.split("; ".concat(e,"="));if(2===s.length)return s.pop().split(";").shift()}var on={data:function(){return{}},methods:{newAvatarSeed:function(){var e=this,t=rn("csrftoken");C.a.post("/api/new_seed",{},{headers:{"X-CSRFToken":t}}).then((function(){e.$store.dispatch("getUserData")})).catch((function(){}))}},computed:{date_joined:function(){var e={weekday:"long",year:"numeric",month:"long",day:"numeric"},t=new Date(this.$store.state.user.creation_date);return t.toLocaleDateString(navigator.language,e)}}};const ln=_()(on,[["render",cn]]);var dn=ln,un=[{path:"/",name:"Home",component:ke},{path:"/about",name:"About",component:Ne},{path:"/register",name:"Register",component:ot},{path:"/login",name:"Login",component:ze},{path:"/phrases",name:"Phrases",component:js},{path:"/share/:id",name:"Share",component:Ds},{path:"/friends",name:"friends",component:Ta},{path:"/profile",name:"profile",component:dn}],hn=Object(E["a"])({history:Object(E["b"])(),routes:un}),bn=hn,mn=s("3f49"),pn=s("6727"),fn=s("0825"),On=s("edd4"),jn={"it-IT":fn,"en-US":On},gn=Object(pn["a"])({globalInjection:!0,legacy:!1,locale:"it-IT",fallbackLocale:"it-IT",messages:jn});s("b383"),s("8010"),s("0c3e"),s("7130"),Object(a["d"])(q).use(gn).use(bn).use(A).use(mn["a"]).mount("#app")},"7a7a":function(e,t,s){"use strict";s("8b36")},8010:function(e,t){},8902:function(e,t,s){e.exports=s.p+"img/drunk_256.63df9e15.png"},"8b36":function(e,t,s){},"9ab9":function(e,t,s){},b383:function(e,t,s){},be3b:function(e,t){},d985:function(e,t,s){"use strict";s("1f97")},e637:function(e,t,s){"use strict";s("5687")},edd4:function(e){e.exports=JSON.parse('{"navbar-title":"Drinkif","select-language":"Select language","new-sentence":"Extract new sentence","do-not-repeat":"Do not repeat","sentence-available":"There are still available <strong> {count} </strong> sentences","navbar":{"sentences":"Sentences","logout":"Logout","login":"Login"},"home":{"welcome":"Welcome","need-login":"In order to use this app you have to <a href=\'#/login\'>login</a> or <a href=\'#/register\'>sign-up</a>"},"add-sentences":"Add sentences","add-sentences-here":"Add sentences here","your-sentences":"Your sentences","add-phrases":"Add phrases","delete":"Delete","confirm-deletion":"Confirm deletion","confirm-deletion-text":"Are you sure you want to delete this sentence?","confirm-deletion-button-agree":"I am sure delete it!","confirm-deletion-button-deny":"No way!","sentence-deleted":"Sentence deleted","sentence-added":"Sentence added","password-requirements":"Password must be at least 8 characters long and contain at least one number and one letter","paginator":{"previous":"Previous","next":"Next","last":"Last","first":"First","search":"Search"},"modal-edit":{"title":"Edit sentence","save":"Save","cancel":"Cancel"},"sign-up":{"button":"Sign-up","title":"Sign-up","errors":{"password-requirements":"Password must be at least 8 characters long and contain at least one number and one letter","username-taken":"Username is already taken"}},"login":{"button":"Login","title":"Login","create-account":"You don\'t have an account?","errors":{"password-incorrect":"Password is incorrect","username-does-not-exits":"Username does not exists"}},"sentence-edited":"Sentence edited successfully","share-text":"I shared this sentence"}')}});
//# sourceMappingURL=app.64c505bb.js.map