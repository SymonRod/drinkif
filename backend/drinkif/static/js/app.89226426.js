(function(){var e={4235:function(e,t,s){"use strict";s.r(t)},8760:function(){},5795:function(e,t,s){"use strict";var a=s(9199);function i(e,t,s,i,n,r){const o=(0,a.up)("Navbar"),l=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(o),(0,a.Wm)(l)])}const n=e=>((0,a.dD)("data-v-15f0e084"),e=e(),(0,a.Cn)(),e),r={class:"navbar has-background-dark"},o={class:"container"},l={class:"navbar-brand"},c={class:"title mt-3 mb-1 ml-2 has-text-primary"},d=(0,a.Uk)("DrinkIf"),u=n((()=>(0,a._)("a",{class:"navbar-item",href:"#"},null,-1))),m=n((()=>(0,a._)("span",{class:"navbar-burger burger","data-target":"navbarMenu"},[(0,a._)("span"),(0,a._)("span"),(0,a._)("span")],-1))),h={id:"navbarMenu",class:"navbar-menu has-background-dark"},p={class:"navbar-end"},g={class:"navbar-item"},f={key:0,class:"navbar-item"},v={key:1,class:"navbar-item"},_={key:2,class:"navbar-item"},b={class:"navbar-item"},w={key:1,href:"/api/logout"};function y(e,t,s,i,n,y){const k=(0,a.up)("router-link"),$=(0,a.up)("SelectLocale");return(0,a.wg)(),(0,a.iD)("nav",r,[(0,a._)("div",o,[(0,a._)("div",l,[(0,a._)("p",c,[(0,a.Wm)(k,{to:"/"},{default:(0,a.w5)((()=>[d])),_:1})]),u,m]),(0,a._)("div",h,[(0,a._)("div",p,[(0,a._)("div",g,[(0,a.Uk)((0,a.zw)(e.$t("select-language"))+" ",1),(0,a.Wm)($)]),null!=e.$store.state.user?((0,a.wg)(),(0,a.iD)("div",f,[(0,a.Wm)(k,{to:"/phrases"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,a.zw)(e.$t("navbar.sentences")),1)])),_:1})])):(0,a.kq)("",!0),null!=e.$store.state.user?((0,a.wg)(),(0,a.iD)("div",v,[(0,a.Wm)(k,{to:"/profile"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,a.zw)(e.$t("navbar.profile")),1)])),_:1})])):(0,a.kq)("",!0),null!=e.$store.state.user?((0,a.wg)(),(0,a.iD)("div",_,[(0,a.Wm)(k,{to:"/friends"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,a.zw)(e.$t("navbar.friends")),1)])),_:1})])):(0,a.kq)("",!0),(0,a._)("div",b,[null==e.$store.state.user?((0,a.wg)(),(0,a.j4)(k,{key:0,to:"/login"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,a.zw)(e.$t("navbar.login")),1)])),_:1})):(0,a.kq)("",!0),null!=e.$store.state.user?((0,a.wg)(),(0,a.iD)("a",w,(0,a.zw)(e.$t("navbar.logout")),1)):(0,a.kq)("",!0)])])])])])}const k=["value"];function $(e,t,s,i,n,r){return(0,a.wy)(((0,a.wg)(),(0,a.iD)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.$i18n.locale=t),class:"select ml-2",id:"select-language"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.langs,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:`lang-${t.value}`,value:e.value},(0,a.zw)(e.description),9,k)))),128))],512)),[[a.bM,e.$i18n.locale]])}var S={name:"SelectLocale",data(){return{langs:[{value:"en-US",description:"English üá∫üá∏"},{value:"it-IT",description:"Italiano üáÆüáπ"}]}}},x=s(89);const z=(0,x.Z)(S,[["render",$]]);var D=z,I={name:"NavBar",props:{},computed:{},components:{SelectLocale:D}};document.addEventListener("DOMContentLoaded",(()=>{const e=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);e.length>0&&e.forEach((e=>{e.addEventListener("click",(()=>{const t=e.dataset.target,s=document.getElementById(t);e.classList.toggle("is-active"),s.classList.toggle("is-active")}))}))}));const N=(0,x.Z)(I,[["render",y],["__scopeId","data-v-15f0e084"]]);var P=N,R=s(6265),q=s.n(R),C={name:"App",components:{Navbar:P},mounted(){var e="";null==localStorage.getItem("locale")?localStorage.setItem("locale",e):e=localStorage.getItem("locale"),q().post("/api/csrf").then((()=>{this.$store.dispatch("getUserData")}))}};const U=(0,x.Z)(C,[["render",i]]);var L=U,F=s(678),O=s(2822);const T=e=>((0,a.dD)("data-v-15f07728"),e=e(),(0,a.Cn)(),e),E={class:"hero"},A={class:"has-text-centered m-3 title"},M=["innerHTML"],J=T((()=>(0,a._)("div",{class:"has-text-centered m-3"},[(0,a._)("figure",{alt:"Drunk",class:"image is-128x128 is-inline-block"},[(0,a._)("img",{src:O,alt:""})])],-1))),H={key:0,class:"has-text-centered"},B={class:"has-text-white is-size-3 has-text-weight-bold"},j={key:0},V={class:"has-text-centered m-3"},X={key:0,class:"columns"},Z={class:"column is-4 is-offset-4"},G={class:"card has-text-black"},W={class:"is-size-5 p-2 has-text-black has-text-weight-bold"},Y=["for"],K=["id","onUpdate:modelValue"],Q={key:1,class:"has-text-centered m-3"},ee={for:"enableTTS",class:"has-text-white ml-5"},te={key:2,class:"columns"},se={class:"column is-4 is-offset-4"},ae={key:0,class:"message is-primary"},ie={class:"message-body"},ne=["innerHTML"],re={key:3,class:"columns"},oe={class:"column is-4 is-offset-4 has-text-centered has-text-white"},le=T((()=>(0,a._)("span",{class:"icon is-small"},[(0,a._)("i",{class:"fas fa-hand-paper"})],-1))),ce={key:4,class:"columns"},de={class:"column is-4 is-offset-4 has-text-centered has-text-white"},ue=T((()=>(0,a._)("span",{class:"icon is-small"},[(0,a._)("i",{class:"fas fa-bug"})],-1))),me=T((()=>(0,a._)("span",null,"Debug",-1))),he=[ue,me],pe=T((()=>(0,a._)("a",{id:"downloadAnchorElem",style:{display:"none"}},null,-1)));function ge(e,t,s,i,n,r){return(0,a.wg)(),(0,a.iD)("section",E,[(0,a._)("div",null,[(0,a._)("div",A,[(0,a._)("p",{innerHTML:null!=this.$store.state.user?"":this.$t("home.need-login")},null,8,M)]),J,null!=e.$store.state.user&&n.isStarted?((0,a.wg)(),(0,a.iD)("div",H,[(0,a._)("span",B,(0,a.zw)(e.$store.state.current_phrase.phrase_text),1)])):(0,a.kq)("",!0)]),null!=e.$store.state.user?((0,a.wg)(),(0,a.iD)("div",j,[(0,a._)("div",V,[n.isStarted?((0,a.wg)(),(0,a.iD)("button",{key:1,onClick:t[1]||(t[1]=(...e)=>r.extractSentece&&r.extractSentece(...e)),class:"button is-primary is-outlined"},(0,a.zw)(e.$t("new-sentence")),1)):((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>r.startGame&&r.startGame(...e)),class:"button is-primary"},(0,a.zw)(e.$t("start-game")),1))]),e.$store.state.friends.length>0&&!n.isStarted?((0,a.wg)(),(0,a.iD)("div",X,[(0,a._)("div",Z,[(0,a._)("div",G,[(0,a._)("p",W,(0,a.zw)(e.$t("home.include-friends-sentences")),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.friends,(e=>((0,a.wg)(),(0,a.iD)("label",{key:e.id,for:"check-sentences-"+e.username,class:"checkbox column"},[(0,a.wy)((0,a._)("input",{type:"checkbox",name:"",id:"check-sentences-"+e.username,"onUpdate:modelValue":t=>n.includeFriends[e.username]=t},null,8,K),[[a.e8,n.includeFriends[e.username]]]),(0,a.Uk)(" "+(0,a.zw)(e.username),1)],8,Y)))),128))])])])):(0,a.kq)("",!0),n.isStarted?((0,a.wg)(),(0,a.iD)("div",Q,[(0,a._)("label",ee,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>n.enableTTS=e),id:"enableTTS"},null,512),[[a.e8,n.enableTTS]]),(0,a.Uk)(" "+(0,a.zw)(e.$t("home.enable-tts")),1)])])):(0,a.kq)("",!0),n.isStarted?((0,a.wg)(),(0,a.iD)("div",te,[(0,a._)("div",se,[r.doNotRepeat?((0,a.wg)(),(0,a.iD)("article",ae,[(0,a._)("div",ie,[(0,a._)("p",{innerHTML:e.$t("sentence-available",{count:e.$store.state.available.length})},null,8,ne)])])):(0,a.kq)("",!0)])])):(0,a.kq)("",!0),n.isStarted?((0,a.wg)(),(0,a.iD)("div",re,[(0,a._)("div",oe,[(0,a._)("div",{class:"button is-danger",onClick:t[3]||(t[3]=(...e)=>r.stopGame&&r.stopGame(...e))},[le,(0,a._)("span",null,(0,a.zw)(e.$t("stop-game")),1)])])])):(0,a.kq)("",!0),e.$store.state.user.isDeveloper?((0,a.wg)(),(0,a.iD)("div",ce,[(0,a._)("div",de,[(0,a._)("div",{class:"button is-success",onClick:t[4]||(t[4]=(...e)=>r.debugDownload&&r.debugDownload(...e))},he)])])):(0,a.kq)("",!0)])):(0,a.kq)("",!0),pe])}s(2262),s(4506);var fe=s(5597),ve={name:"HomePage",data(){return{isStarted:null!=JSON.parse(localStorage.getItem("isStarted"))&&JSON.parse(localStorage.getItem("isStarted")),includeFriends:{},friendsSentences:{},enableTTS:!1,audio:new Audio}},methods:{startGame:function(){this.isStarted=!0,localStorage.setItem("isStarted",!0),this.$store.dispatch("doNotRepeat",{doNotRepeat:!0,includeFriends:this.includeFriends}),this.$store.commit("clearHistory"),this.$store.commit("set_phrase",{})},stopGame:function(){this.isStarted=!1,localStorage.setItem("isStarted",!1),this.$store.dispatch("doNotRepeat",{doNotRepeat:!1,includeFriends:this.includeFriends})},extractSentece:function(){if(0==this.sentences.length)return void(0,fe.toast)({message:this.$t("no-sentences-available"),type:"is-warning",position:"top-right",duration:12e3,dismissible:!0});if(this.$store.state.available.length<=0)return;let e=Math.ceil(0),t=Math.floor(this.$store.state.available.length-1),s=Math.floor(Math.random()*(t-e+1)+e),a=this.$store.state.available.indexOf(this.$store.state.available.at(s));this.$store.commit("set_phrase",this.$store.state.available.at(a)),this.$store.commit("addToHistory",this.$store.state.available.at(a)),a>-1&&this.$store.state.available.splice(a,1),localStorage.setItem("available",JSON.stringify(this.$store.state.available)),this.enableTTS&&q().get("/api/gtts?sentence="+encodeURIComponent(this.$store.state.current_phrase.phrase_text)).then((e=>{this.audio.pause(),this.audio.currentTime=0,this.audio.src=e.data.url,this.audio.play()})).catch((()=>{(0,fe.toast)({message:this.$t("tts-error"),type:"is-warning",position:"top-right",duration:12e3,dismissible:!0})}))},debugDownload(){var e={friends:this.$store.state.friends,doNotRepeat:this.$store.state.doNotRepeat,current_phrase:this.$store.state.current_phrase,history:this.$store.state.history,available:this.$store.state.available,phrases:this.$store.state.phrases,errors:this.$store.state.errors},t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),s=document.getElementById("downloadAnchorElem");s.setAttribute("href",t),s.setAttribute("download","debug.json"),s.click()}},mounted:function(){},computed:{sentences(){return this.$store.state.phrases.filter((e=>e.creator==this.$store.state.user.username||(!!this.includeFriends[e.creator]||void 0)))},doNotRepeat:{get(){return this.$store.state.doNotRepeat}},min:{get(){return this.$store.state.min},set(e){this.$store.commit("updateMin",e)}},max:{get(){return this.$store.state.max},set(e){this.$store.commit("updateMax",e)}},state_errors:{get(){return this.$store.state.errors}}}};const _e=(0,x.Z)(ve,[["render",ge],["__scopeId","data-v-15f07728"]]);var be=_e;const we={class:"about"},ye=(0,a._)("h1",null,"This is an about page",-1),ke=[ye];function $e(e,t){return(0,a.wg)(),(0,a.iD)("div",we,ke)}const Se={},xe=(0,x.Z)(Se,[["render",$e]]);var ze=xe;const De={class:"columns"},Ie={id:"login-view",class:"column is-half is-offset-one-quarter"},Ne={class:"card m-6 p-4"},Pe={class:"has-text-black title"},Re={class:"field"},qe={class:"control has-icons-left"},Ce=(0,a._)("span",{class:"icon is-small is-left"},[(0,a._)("i",{class:"fas fa-envelope has-text-primary"})],-1),Ue={class:"field"},Le={class:"control has-icons-left"},Fe=(0,a._)("span",{class:"icon is-small is-left"},[(0,a._)("i",{class:"fas fa-lock has-text-primary"})],-1),Oe={class:"button ml-2"};function Te(e,t,s,i,n,r){const o=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",De,[(0,a._)("div",Ie,[(0,a._)("div",Ne,[(0,a._)("h1",Pe,(0,a.zw)(e.$t("login.title")),1),(0,a._)("div",Re,[(0,a._)("p",qe,[(0,a.wy)((0,a._)("input",{class:"input",type:"username",placeholder:"username","onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e)},null,512),[[a.nr,n.username]]),Ce])]),(0,a._)("div",Ue,[(0,a._)("p",Le,[(0,a.wy)((0,a._)("input",{class:"input",type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e)},null,512),[[a.nr,n.password]]),Fe])]),(0,a._)("div",null,[(0,a._)("button",{onClick:t[2]||(t[2]=e=>r.login()),id:"login-button",class:"button"},(0,a.zw)(e.$t("login.button")),1),(0,a._)("div",Oe,[(0,a.Wm)(o,{to:"/register"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,a.zw)(e.$t("login.create-account")),1)])),_:1})])])])])])}function Ee(e){const t=`; ${document.cookie}`,s=t.split(`; ${e}=`);if(2===s.length)return s.pop().split(";").shift()}var Ae={data(){return{username:"",password:""}},methods:{login(){let e=Ee("csrftoken");document.getElementById("login-button").classList.add("is-loading"),q().post("/api/login",{username:this.username,password:this.password},{headers:{"X-CSRFToken":e}}).then((e=>{200===e.status&&(this.$store.dispatch("getUserData"),this.$router.push("/")),document.getElementById("login-button").classList.remove("is-loading")})).catch((e=>{if(500!=e.response.status){let t=e.response.data.description;null==t&&(t="Generic error"),(0,fe.toast)({message:this.$t(t),type:"is-danger",duration:1e4})}document.getElementById("login-button").classList.remove("is-loading")}))}}};const Me=(0,x.Z)(Ae,[["render",Te]]);var Je=Me;const He={class:"columns"},Be={id:"login-view",class:"column is-half is-offset-one-quarter"},je={class:"card m-6 p-4"},Ve={class:"has-text-black title"},Xe={class:"field"},Ze={class:"control has-icons-left has-icons-right"},Ge=(0,a._)("span",{class:"icon is-small is-left"},[(0,a._)("i",{class:"fas fa-envelope"})],-1),We=(0,a._)("span",{class:"icon is-small is-right"},[(0,a._)("i",{class:"fas fa-check"})],-1),Ye={class:"field"},Ke={class:"control has-icons-left has-text-black p-2"},Qe=(0,a._)("span",{class:"icon is-small is-left"},[(0,a._)("i",{class:"fas fa-lock"})],-1);function et(e,t,s,i,n,r){return(0,a.wg)(),(0,a.iD)("div",He,[(0,a._)("div",Be,[(0,a._)("div",je,[(0,a._)("h1",Ve,(0,a.zw)(e.$t("sign-up.title")),1),(0,a._)("div",Xe,[(0,a._)("p",Ze,[(0,a.wy)((0,a._)("input",{class:"input",type:"username",placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e)},null,512),[[a.nr,n.username]]),Ge,We])]),(0,a._)("div",Ye,[(0,a._)("p",Ke,[(0,a.Uk)((0,a.zw)(e.$t("password-requirements"))+" ",1),(0,a.wy)((0,a._)("input",{class:"input mt-1",type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e)},null,512),[[a.nr,n.password]]),Qe])]),(0,a._)("div",null,[(0,a._)("button",{onClick:t[2]||(t[2]=t=>r.register(e.inputs)),id:"register-button",class:"button"},(0,a.zw)(e.$t("sign-up.button")),1)])])])])}function tt(e){const t=`; ${document.cookie}`,s=t.split(`; ${e}=`);if(2===s.length)return s.pop().split(";").shift()}var st={data(){return{username:"",password:""}},methods:{register(){let e=tt("csrftoken");document.getElementById("register-button").classList.add("is-loading"),q().post("/api/register",{username:this.username,password:this.password},{headers:{"X-CSRFToken":e}}).then((e=>{200===e.status&&(null!=e.data.description&&(0,fe.toast)({message:e.data.description,type:"is-success",duration:1e4}),window.location.href="/"),document.getElementById("register-button").classList.remove("is-loading")})).catch((e=>{if(500!=e.response.status){let t=e.response.data.description;null==t&&(t="Generic error"),(0,fe.toast)({message:this.$t(t),type:"is-danger",duration:1e4})}document.getElementById("register-button").classList.remove("is-loading")}))}}};const at=(0,x.Z)(st,[["render",et]]);var it=at;const nt={class:"columns"},rt={id:"phrases-view",class:"column is-half is-offset-one-quarter"},ot={class:"card m-auto p-4"},lt={class:"has-text-black title"},ct={class:"has-text-black"},dt={class:"m-1"},ut={class:"title has-text-white m-3 has-text-centered"},mt={class:"container"},ht={class:"columns is-centered is-mobile"},pt={class:"column auto has-text-centered"},gt=["disabled"],ft=["disabled"],vt={class:"has-text-white m-2 subtitle"},_t=["disabled"],bt=["disabled"],wt={lass:"columns is-centered"},yt={class:"column auto has-text-centered is-one-third is-offset-one-third"},kt=["placeholder"],$t={class:"columns"},St={class:"column is-one-third is-offset-one-third"},xt={class:"card m-2 p-3 has-text-black"},zt={class:"has-text-black columns is-flex is-vcentered m-0"},Dt=(0,a._)("strong",null," UUID ",-1),It={class:"card-content"},Nt={class:"content"},Pt={class:"card-footer"},Rt=["onClick"],qt=(0,a._)("span",{class:"material-icons"},"delete",-1),Ct=[qt],Ut=["onClick"],Lt=(0,a._)("span",{class:"material-icons","data-target":"modal-edit"},"edit",-1),Ft=[Lt],Ot=["onClick"],Tt=(0,a._)("span",{class:"material-icons"},"share",-1),Et=[Tt],At=["id","onClick"],Mt=(0,a._)("i",{class:"fas fa-globe-europe"},null,-1),Jt=[Mt],Ht=["id","onClick"],Bt=(0,a._)("i",{class:"fas fa-lock"},null,-1),jt=[Bt],Vt={id:"modal-edit",class:"modal"},Xt=(0,a._)("div",{class:"modal-background"},null,-1),Zt={class:"modal-card"},Gt={class:"modal-card-head"},Wt={class:"modal-card-title"},Yt=(0,a._)("button",{class:"delete","aria-label":"close"},null,-1),Kt={class:"modal-card-body"},Qt={class:"modal-card-foot"},es={class:"button"},ts={id:"modal-confirm-delete",class:"modal"},ss=(0,a._)("div",{class:"modal-background"},null,-1),as={class:"modal-card"},is={class:"modal-card-head"},ns={class:"modal-card-title"},rs=(0,a._)("button",{class:"delete","aria-label":"close"},null,-1),os={class:"modal-card-body"},ls={class:"modal-card-foot"},cs={class:"button"};function ds(e,t,s,i,n,r){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",nt,[(0,a._)("div",rt,[(0,a._)("div",ot,[(0,a._)("h1",lt,(0,a.zw)(e.$t("add-sentences")),1),(0,a._)("p",ct,(0,a.zw)(e.$t("add-sentences-here")),1),(0,a.wy)((0,a._)("textarea",{class:"textarea",placeholder:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.phrases=t)},null,512),[[a.nr,e.phrases]]),(0,a._)("div",dt,[(0,a._)("button",{class:"button is-primary is-outlined",onClick:t[1]||(t[1]=(...e)=>r.add_phrases&&r.add_phrases(...e))},(0,a.zw)(e.$t("add-phrases")),1)])])])]),(0,a._)("div",ut,(0,a.zw)(e.$t("your-sentences")),1),(0,a._)("div",mt,[(0,a._)("div",ht,[(0,a._)("div",pt,[(0,a._)("button",{class:"button",onClick:t[2]||(t[2]=(...e)=>r.firstPage&&r.firstPage(...e)),disabled:""!=e.search},(0,a.zw)(e.$t("paginator.first")),9,gt),(0,a._)("button",{class:"button",onClick:t[3]||(t[3]=(...e)=>r.previousPage&&r.previousPage(...e)),disabled:""!=e.search},(0,a.zw)(e.$t("paginator.previous")),9,ft),(0,a._)("span",vt,(0,a.zw)(e.currentPage),1),(0,a._)("button",{class:"button",onClick:t[4]||(t[4]=(...e)=>r.nextPage&&r.nextPage(...e)),disabled:""!=e.search},(0,a.zw)(e.$t("paginator.next")),9,_t),(0,a._)("button",{class:"button",onClick:t[5]||(t[5]=(...e)=>r.lastPage&&r.lastPage(...e)),disabled:""!=e.search},(0,a.zw)(e.$t("paginator.last")),9,bt)])])]),(0,a._)("div",wt,[(0,a._)("div",yt,[(0,a.wy)((0,a._)("input",{type:"text",name:"",id:"",placeholder:e.$t("paginator.search"),class:"input","onUpdate:modelValue":t[6]||(t[6]=t=>e.search=t)},null,8,kt),[[a.nr,e.search]])])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.page,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:""},[(0,a._)("div",$t,[(0,a._)("div",St,[(0,a._)("div",xt,[(0,a._)("div",zt,[Dt,(0,a.Uk)(" #"+(0,a.zw)(e.id),1)]),(0,a._)("div",It,[(0,a._)("div",Nt,(0,a.zw)(e.phrase_text),1)]),(0,a._)("div",Pt,[(0,a._)("button",{class:"button is-danger is-outlined m-2 js-modal-trigger card-footer-item","data-target":"modal-confirm-delete",onClick:t=>r.set_delete_id(e.id)},Ct,8,Rt),(0,a._)("button",{class:"button is-primary is-outlined m-2 js-modal-trigger card-footer-item",onClick:t=>r.set_edit_id(e.id)},Ft,8,Ut),r.shareEnabled?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"button is-success is-outlined m-2 card-footer-item",onClick:t=>r.share(e.id)},Et,8,Ot)):(0,a.kq)("",!0),e.public?((0,a.wg)(),(0,a.iD)("button",{key:1,class:"button is-success m-2 card-footer-item",id:e.id+"_sentence_public",onClick:t=>r.set_visibility(e.id,!1,t)},Jt,8,At)):((0,a.wg)(),(0,a.iD)("button",{key:2,class:"button is-warning m-2 card-footer-item",id:e.id+"_sentence_private",onClick:t=>r.set_visibility(e.id,!0,t)},jt,8,Ht))])])])])])))),128)),(0,a._)("div",Vt,[Xt,(0,a._)("div",Zt,[(0,a._)("header",Gt,[(0,a._)("p",Wt,(0,a.zw)(e.$t("modal-edit.title")),1),Yt]),(0,a._)("section",Kt,[(0,a.wy)((0,a._)("textarea",{name:"",id:"",cols:"30",rows:"3","onUpdate:modelValue":t[7]||(t[7]=t=>e.edit_text=t),class:"textarea"},null,512),[[a.nr,e.edit_text]])]),(0,a._)("footer",Qt,[(0,a._)("button",{class:"button is-danger",onClick:t[8]||(t[8]=(...e)=>r.confirm_save&&r.confirm_save(...e))},(0,a.zw)(e.$t("modal-edit.save")),1),(0,a._)("button",es,(0,a.zw)(e.$t("modal-edit.cancel")),1)])])]),(0,a._)("div",ts,[ss,(0,a._)("div",as,[(0,a._)("header",is,[(0,a._)("p",ns,(0,a.zw)(e.$t("confirm-deletion")),1),rs]),(0,a._)("section",os,(0,a.zw)(e.$t("confirm-deletion-text")),1),(0,a._)("footer",ls,[(0,a._)("button",{class:"button is-danger",onClick:t[9]||(t[9]=(...e)=>r.confirm_delete&&r.confirm_delete(...e))},(0,a.zw)(e.$t("confirm-deletion-button-agree")),1),(0,a._)("button",cs,(0,a.zw)(e.$t("confirm-deletion-button-deny")),1)])])])])}function us(e){const t=`; ${document.cookie}`,s=t.split(`; ${e}=`);if(2===s.length)return s.pop().split(";").shift()}var ms={data:function(){return{delete_id:-1,edit_id:-1,edit_text:"",itemPerPage:5,currentPage:null==localStorage.getItem("currentPage")?1:localStorage.getItem("currentPage"),search:"",phrases:""}},computed:{shareEnabled:function(){return void 0!=navigator.share},sentences:function(){var e;try{e=this.$store.state.phrases.filter((e=>e.creator==this.$store.state.user.username))}catch(t){e=[]}return e},page:{get(){let e=[];return e=""!=this.search?this.sentences.filter((e=>{let t=e.phrase_text.toLowerCase(),s=this.search.toLowerCase();return t.includes(s)})):this.sentences.slice((this.currentPage-1)*this.itemPerPage,this.currentPage*this.itemPerPage),e}}},methods:{set_visibility(e,t,s){this.$store.dispatch("setSentenceVisibility",{id:e,visibility:t,trigger:s.target})},firstPage(){this.currentPage=1},lastPage(){this.currentPage=Math.ceil(this.sentences.length/this.itemPerPage)},previousPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.sentences.length/this.itemPerPage&&this.currentPage++},confirm_delete(){let e=us("csrftoken");q().post("/api/delete_phrase",{id:this.delete_id},{headers:{"X-CSRFToken":e}}).then((()=>{this.$store.dispatch("getPhrases"),(0,fe.toast)({message:this.$t("sentence-deleted"),type:"is-danger",dismissible:!0,pauseOnHover:!0,duration:3e3,position:"top-right"})})).catch((()=>{}))},set_delete_id(e){function t(e){e.classList.add("is-active")}this.delete_id=e,t(document.getElementById("modal-confirm-delete"))},set_edit_id(e){function t(e){e.classList.add("is-active")}this.edit_id=e,this.edit_text=this.sentences.find((t=>t.id==e)).phrase_text,t(document.getElementById("modal-edit"))},confirm_save(){let e=us("csrftoken");q().post("/api/edit_phrase",{id:this.edit_id,text:this.edit_text},{headers:{"X-CSRFToken":e}}).then((()=>{this.$store.dispatch("getPhrases"),(0,fe.toast)({message:this.$t("sentence-edited"),type:"is-success",pauseOnHover:!0,duration:3e3,position:"top-right"})})).catch((()=>{}))},add_phrases(){var e=this.phrases.split(/\r?\n/);let t=us("csrftoken");q().post("/api/add_phrases",{phrases:e},{headers:{"X-CSRFToken":t}}).then((e=>{200===e.status&&(this.$store.dispatch("getPhrases"),this.phrases="",(0,fe.toast)({message:"Sentences added!",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:3e3,position:"top-right"}))}))},share(e){var t=window.location,s=t.protocol+"//"+t.host+"/"+t.pathname.split("/")[1];navigator.share({title:"DrinkIf",text:this.$t("share-text"),url:s+"#/share/"+e})}},mounted(){function e(e){e.classList.add("is-active")}function t(e){e.classList.remove("is-active")}function s(){(document.querySelectorAll(".modal")||[]).forEach((e=>{t(e)}))}null==this.$store.state.user&&this.$router.push("/"),(document.querySelectorAll(".js-modal-trigger")||[]).forEach((t=>{const s=t.dataset.target,a=document.getElementById(s);t.addEventListener("click",(()=>{e(a)}))})),(document.querySelectorAll(".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button")||[]).forEach((e=>{const s=e.closest(".modal");e.addEventListener("click",(()=>{t(s)}))})),document.addEventListener("keydown",(e=>{const t=e||window.event;27===t.keyCode&&s()}))},watch:{currentPage:function(e){localStorage.setItem("currentPage",e)}}};const hs=(0,x.Z)(ms,[["render",ds]]);var ps=hs;const gs={class:"hero is-fullheight"},fs={class:"columns"},vs={class:"column is-one-third is-offset-one-third"},_s={class:"card has-text-black m-6 p-4"},bs={class:"card-body"};function ws(e,t,s,i,n,r){return(0,a.wg)(),(0,a.iD)("div",gs,[(0,a._)("div",fs,[(0,a._)("div",vs,[(0,a._)("div",_s,[(0,a._)("div",null,[(0,a._)("strong",null," #UUID "+(0,a.zw)(e.sentence.id),1)]),(0,a._)("div",bs,(0,a.zw)(e.sentence.text),1)])])])])}var ys={data:function(){return{sentence:{id:null,text:""}}},mounted(){this.$route.params.id,q().post("/api/get_by_id",{id:this.$route.params.id}).then((e=>{this.sentence=e.data.sentence}))}};const ks=(0,x.Z)(ys,[["render",ws]]);var $s=ks;const Ss={class:"container"},xs={class:"has-text-white title m-2 has-text-centered"},zs={class:"columns"},Ds={class:"column is-one-third"},Is={class:"subtitle"},Ns={class:"field has-addons"},Ps={class:"control has-icons-left"},Rs=(0,a._)("span",{class:"icon is-left has-text-primary"},[(0,a._)("i",{class:"fas fa-user-plus"})],-1),qs={class:"control"},Cs=(0,a._)("i",{class:"fas fa-plus"},null,-1),Us=[Cs],Ls={class:"columns"},Fs={class:"column"},Os={class:"subtitle"},Ts={key:0,class:"has-text-white"},Es={class:"columns is-multiline"},As={class:"card"},Ms={class:"card-content"},Js={class:"media"},Hs={class:"media-left"},Bs={class:"image is-48x48"},js=["src"],Vs={class:"media-content"},Xs={class:"title"},Zs={class:"card-footer"},Gs=["onClick"],Ws=(0,a._)("strong",null,[(0,a._)("span",{class:"material-icons has-text-success"},"done")],-1),Ys=[Ws],Ks=["onClick"],Qs=(0,a._)("strong",null,[(0,a._)("span",{class:"material-icons has-text-danger"},"close")],-1),ea=[Qs],ta={class:"has-text-white subtitle"},sa={class:"columns has-text-black is-multiline"},aa={class:"card has-text-black"},ia=(0,a._)("div",{class:"card-image"},null,-1),na={class:"card-content"},ra={class:"media"},oa={class:"media-left"},la={class:"image is-48x48"},ca=["src"],da={class:"media-content"},ua={class:"title"},ma=(0,a._)("div",null,null,-1),ha={class:"content"},pa={class:""},ga=["value"],fa={class:"has-text-grey"},va={class:"card-footer"},_a=["onClick"],ba=(0,a._)("i",{class:"fas fa-user-slash"},null,-1),wa={id:"modal-friends-remove",class:"modal"},ya=(0,a._)("div",{class:"modal-background"},null,-1),ka={class:"modal-card mx-2"},$a={class:"modal-card-head"},Sa={class:"modal-card-title"},xa=(0,a._)("button",{class:"delete","aria-label":"close"},null,-1),za={class:"modal-card-body"},Da={class:"modal-card-foot"},Ia={class:"button"};function Na(e,t,s,i,n,r){return(0,a.wg)(),(0,a.iD)("div",Ss,[(0,a._)("h1",xs,(0,a.zw)(this.$t("friends.title")),1),(0,a._)("div",zs,[(0,a._)("div",Ds,[(0,a._)("div",Is,(0,a.zw)(this.$t("friends.add-friend")),1),(0,a._)("div",Ns,[(0,a._)("p",Ps,[(0,a.wy)((0,a._)("input",{class:"input",type:"username",placeholder:"username","onUpdate:modelValue":t[0]||(t[0]=t=>e.searchFriend=t)},null,512),[[a.nr,e.searchFriend]]),Rs]),(0,a._)("div",qs,[(0,a._)("a",{class:"button is-primary",id:"add-button",onClick:t[1]||(t[1]=(...e)=>r.sendFriendRequest&&r.sendFriendRequest(...e))},Us)])])])]),(0,a._)("div",Ls,[(0,a._)("div",Fs,[(0,a._)("div",Os,(0,a.zw)(this.$t("friends.requests")),1),0==e.friendRequestsReceived.length?((0,a.wg)(),(0,a.iD)("p",Ts,(0,a.zw)(this.$t("friends.no-request-recived")),1)):(0,a.kq)("",!0),(0,a._)("div",Es,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.friendRequestsReceived,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"column is-one-quarter",key:e.id},[(0,a._)("div",As,[(0,a._)("div",Ms,[(0,a._)("div",Js,[(0,a._)("div",Hs,[(0,a._)("figure",Bs,[(0,a._)("img",{src:e.avatar.url,alt:"Placeholder image",class:"is-rounded"},null,8,js)])]),(0,a._)("div",Vs,[(0,a._)("p",Xs,(0,a.zw)(e.username),1)])])]),(0,a._)("footer",Zs,[(0,a._)("span",{style:{cursor:"pointer"},class:"card-footer-item",onClick:t=>r.handle_friendship_request(e.username,!0)},Ys,8,Gs),(0,a._)("span",{style:{cursor:"pointer"},class:"card-footer-item",onClick:t=>r.handle_friendship_request(e.username,!1)},ea,8,Ks)])])])))),128))])])]),(0,a._)("div",ta,(0,a.zw)(this.$t("friends.friend")),1),(0,a._)("div",sa,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.$store.state.friends,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"column is-one-third",key:e.id},[(0,a._)("div",aa,[ia,(0,a._)("div",na,[(0,a._)("div",ra,[(0,a._)("div",oa,[(0,a._)("figure",la,[(0,a._)("img",{src:e.avatar.url,alt:"Placeholder image",class:"is-rounded"},null,8,ca)])]),(0,a._)("div",da,[(0,a._)("p",ua,(0,a.zw)(e.username),1),ma])]),(0,a._)("div",ha,[(0,a._)("label",pa,[(0,a.Uk)((0,a.zw)(this.$t("friends.avatar-seed"))+" ",1),(0,a._)("input",{type:"text",class:"input",disabled:"",value:e.avatar.seed},null,8,ga)]),(0,a._)("p",null,(0,a.zw)(this.$t("friends.description")),1),(0,a._)("p",null,(0,a.zw)(""==e.description?this.$t("profile.no-description"):e.description),1),(0,a._)("div",null,[(0,a._)("p",fa,(0,a.zw)(this.$t("friends.since"))+" "+(0,a.zw)(r.getHumanDate(e.creation_date)),1)])]),(0,a._)("footer",va,[(0,a._)("div",{class:"card-footer-item has-text-danger",style:{cursor:"pointer"},onClick:t=>r.confirmRemoveFriend(e.username)},[(0,a.Uk)((0,a.zw)(this.$t("friends.remove"))+" ",1),ba],8,_a)])])])])))),128))]),(0,a._)("div",wa,[ya,(0,a._)("div",ka,[(0,a._)("header",$a,[(0,a._)("p",Sa,(0,a.zw)(e.$t("friends.modal.remove.title")),1),xa]),(0,a._)("section",za,(0,a.zw)(e.$t("friends.modal.remove.text",e.removeFriendUsername)),1),(0,a._)("footer",Da,[(0,a._)("button",{class:"button is-danger",onClick:t[2]||(t[2]=(...e)=>r.RemoveFriend&&r.RemoveFriend(...e))},(0,a.zw)(e.$t("friends.modal.remove.button-agree")),1),(0,a._)("button",Ia,(0,a.zw)(e.$t("friends.modal.remove.button-deny")),1)])])])])}function Pa(e){const t=`; ${document.cookie}`,s=t.split(`; ${e}=`);if(2===s.length)return s.pop().split(";").shift()}var Ra={data:function(){return{removeFriendUsername:"",searchFriend:"",friendRequestsReceived:[]}},methods:{getHumanDate(e){var t={weekday:"long",year:"numeric",month:"long",day:"numeric"},s=new Date(e);return s.toLocaleDateString(navigator.language,t)},RemoveFriend(){var e=Pa("csrftoken");q().post("/api/remove_friend",{username:this.removeFriendUsername},{headers:{"X-CSRFToken":e}}).then((e=>{200===e.status&&(this.getFriendshipRequests(),this.$store.dispatch("getUserData"),(0,fe.toast)({message:this.$t("friends.friend-removed"),type:"is-success",duration:6e3}))})).catch((e=>{if(500!=e.response.status){let t=e.response.data.description;null==t&&(t="Generic error"),(0,fe.toast)({message:this.$t(t),type:"is-danger",duration:1e4})}}))},confirmRemoveFriend(e){function t(e){e.classList.add("is-active")}this.removeFriendUsername=e,t(document.getElementById("modal-friends-remove"))},handle_friendship_request(e,t){var s=Pa("csrftoken");q().post("/api/handle_friendship_requests",{username:e,accepted:t},{headers:{"X-CSRFToken":s}}).then((e=>{200===e.status&&(this.getFriendshipRequests(),this.$store.dispatch("getUserData"))})).catch((()=>{}))},getFriendshipRequests(){var e=Pa("csrftoken");q().post("/api/get_friendship_requests",{},{headers:{"X-CSRFToken":e}}).then((e=>{200===e.status&&(this.friendRequestsReceived=e.data.requests)})).catch((()=>{}))},sendFriendRequest(){document.getElementById("add-button").classList.add("is-loading");var e=Pa("csrftoken");q().post("/api/new_friendship_request",{username:this.searchFriend},{headers:{"X-CSRFToken":e}}).then((e=>{200===e.status&&(0,fe.toast)({message:this.$t("friends.request-sent"),type:"is-success",duration:6e3}),document.getElementById("add-button").classList.remove("is-loading")})).catch((e=>{if(500!=e.response.status){let t=e.response.data.description;null==t&&(t="Generic error"),(0,fe.toast)({message:this.$t(t),type:"is-danger",duration:1e4})}document.getElementById("add-button").classList.remove("is-loading")}))}},mounted(){function e(e){e.classList.remove("is-active")}this.$store.dispatch("getUserData"),this.getFriendshipRequests(),(document.querySelectorAll(".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button")||[]).forEach((t=>{const s=t.closest(".modal");t.addEventListener("click",(()=>{e(s)}))}))}};const qa=(0,x.Z)(Ra,[["render",Na]]);var Ca=qa;const Ua={class:"container"},La={class:"has-text-white title m-2 has-text-centered"},Fa={class:"columns has-text-black"},Oa={class:"column is-half is-offset-one-quarter"},Ta={class:"card has-text-black m-3"},Ea=(0,a._)("div",{class:"card-image"},null,-1),Aa={class:"card-content"},Ma={class:"media"},Ja={class:"media-left"},Ha={class:"image is-48x48"},Ba=["src"],ja={class:"media-content"},Va={class:"is-size-3 has-text-weight-bold"},Xa={class:"content"},Za={class:"mb-1"},Ga={for:"avatar-seed",class:"field has-addons"},Wa=["value"],Ya={class:"control"},Ka=(0,a._)("i",{class:"fas fa-dice-d20"},null,-1),Qa=[Ka],ei={class:"has-text-grey"};function ti(e,t,s,i,n,r){return(0,a.wg)(),(0,a.iD)("div",Ua,[(0,a._)("h1",La,(0,a.zw)(this.$t("profile.title")),1),(0,a._)("div",Fa,[(0,a._)("div",Oa,[(0,a._)("div",Ta,[Ea,(0,a._)("div",Aa,[(0,a._)("div",Ma,[(0,a._)("div",Ja,[(0,a._)("figure",Ha,[(0,a._)("img",{src:this.$store.state.user.avatar.url,alt:"Placeholder image",class:"is-rounded"},null,8,Ba)])]),(0,a._)("div",ja,[(0,a._)("p",Va,(0,a.zw)(this.$store.state.user.username),1)])]),(0,a._)("div",Xa,[(0,a._)("div",Za,[(0,a._)("label",Ga,[(0,a.Uk)((0,a.zw)(this.$t("profile.avatar-seed"))+" ",1),(0,a._)("input",{id:"avatar-seed",type:"text",class:"input",disabled:"",value:this.$store.state.user.avatar.seed},null,8,Wa),(0,a._)("div",Ya,[(0,a._)("a",{class:"button is-primary",id:"add-button",onClick:t[0]||(t[0]=(...e)=>r.newAvatarSeed&&r.newAvatarSeed(...e))},Qa)])])]),(0,a._)("p",null,(0,a.zw)(this.$t("profile.description")),1),(0,a._)("p",null,(0,a.zw)(""==this.$store.state.user.description?this.$t("profile.no-description"):this.$store.state.user.description),1),(0,a._)("p",ei,(0,a.zw)(this.$t("profile.since"))+" "+(0,a.zw)(r.date_joined),1)])])])])])])}function si(e){const t=`; ${document.cookie}`,s=t.split(`; ${e}=`);if(2===s.length)return s.pop().split(";").shift()}var ai={data:function(){return{}},methods:{newAvatarSeed:function(){var e=si("csrftoken");q().post("/api/new_seed",{},{headers:{"X-CSRFToken":e}}).then((()=>{this.$store.dispatch("getUserData")})).catch((()=>{}))}},computed:{date_joined:function(){var e={weekday:"long",year:"numeric",month:"long",day:"numeric"},t=new Date(this.$store.state.user.creation_date);return t.toLocaleDateString(navigator.language,e)}}};const ii=(0,x.Z)(ai,[["render",ti]]);var ni=ii;const ri=[{path:"/",name:"HomePage",component:be},{path:"/about",name:"AboutPage",component:ze},{path:"/register",name:"RegisterPage",component:it},{path:"/login",name:"LoginPage",component:Je},{path:"/phrases",name:"PhrasesPage",component:ps},{path:"/share/:id",name:"SharePage",component:$s},{path:"/friends",name:"friendsPage",component:Ca},{path:"/profile",name:"profilePage",component:ni}],oi=(0,F.p7)({history:(0,F.r5)(),routes:ri});var li=oi,ci=s(7139),di=(0,ci.MT)({state:{user:null==JSON.parse(localStorage.getItem("user"))?null:JSON.parse(localStorage.getItem("user")),friends:[],doNotRepeat:null!=JSON.parse(localStorage.getItem("doNotRepeat"))&&JSON.parse(localStorage.getItem("doNotRepeat")),current_phrase:null==JSON.parse(localStorage.getItem("current_phrase"))?{phrase_text:"",phrase_id:null}:JSON.parse(localStorage.getItem("current_phrase")),history:[],available:null==JSON.parse(localStorage.getItem("available"))?[]:JSON.parse(localStorage.getItem("available")),min:null==JSON.parse(localStorage.getItem("min"))?0:JSON.parse(localStorage.getItem("min")),max:null==JSON.parse(localStorage.getItem("max"))?100:JSON.parse(localStorage.getItem("max")),phrases:null==JSON.parse(localStorage.getItem("sentences"))?[]:JSON.parse(localStorage.getItem("sentences")),errors:[]},mutations:{set_phrase(e,t){e.current_phrase=t,localStorage.setItem("current_phrase",JSON.stringify(e.current_phrase))},random_phrase(e){if(0==e.phrases.length)e.errors.push("no-sentences-available");else if(e.doNotRepeat){if(e.available.length<=0)return;let t=Math.ceil(0),s=Math.floor(e.available.length-1),a=Math.floor(Math.random()*(s-t+1)+t),i=e.available.indexOf(e.available.at(a));this.commit("set_phrase",e.available.at(a)),i>-1&&e.available.splice(i,1),localStorage.setItem("available",JSON.stringify(e.available))}else{let t=Math.ceil(e.min),s=Math.floor(e.max),a=Math.floor(Math.random()*(s-t+1)+t);this.commit("set_phrase",e.phrases.at(a))}},updateMax(e,t){let s=parseInt(t);s!=e.max&&(isNaN(s)||(e.max=s,localStorage.setItem("max",JSON.stringify(s)),this.commit("updateDoNotRepeat",e.doNotRepeat)),this.commit("set_phrase",{phrase_text:"",phrase_id:null}))},updateMin(e,t){let s=parseInt(t);s!=e.min&&(isNaN(s)||(e.min=s,localStorage.setItem("min",JSON.stringify(s)),this.commit("updateDoNotRepeat",e.doNotRepeat)),this.commit("set_phrase",{phrase_text:"",phrase_id:null}))},updateDoNotRepeat(e,t){e.doNotRepeat=t},updateAvailable(e,t){e.available=t,localStorage.setItem("available",JSON.stringify(e.available))},clear_errors(e){e.errors=[]},updateUser(e,t){e.user=t,localStorage.setItem("user",JSON.stringify(e.user))},updatePhrases(e,t){e.phrases=t,localStorage.setItem("sentences",JSON.stringify(e.phrases))},updateFriends(e,t){e.friends=t},clearHistory(e){e.history=[]},addToHistory(e,t){var s={phrase_text:t.phrase_text,id:t.id,creator:t.creator};e.history.push(s)}},actions:{doNotRepeat({commit:e,state:t},s){var a=s.includeFriends;if(e("updateDoNotRepeat",s.doNotRepeat),localStorage.setItem("doNotRepeat",JSON.stringify(s)),t.doNotRepeat){var i=t.phrases.filter((e=>!!e.public&&(e.creator==t.user.username||(!!a[e.creator]||void 0))));e("updateAvailable",i),localStorage.setItem("available",JSON.stringify(t.available))}},getFriends({commit:e}){q().get("/api/get_friends").then((t=>{200===t.status&&e("updateFriends",t.data.friends)}))},setSentenceVisibility({commit:e,state:t},s){var a=s.id,i=s.visibility,n=s.trigger;function r(e){const t=`; ${document.cookie}`,s=t.split(`; ${e}=`);if(2===s.length)return s.pop().split(";").shift()}n.classList.add("is-loading");var o=r("csrftoken");q().post("/api/change_sentence_visibility",{id:a,visibility:i},{headers:{"X-CSRFToken":o}}).then((s=>{if(n.classList.remove("is-loading"),200===s.status){var r=t.phrases;r.forEach((e=>{e.id==a&&(e.public=i)})),e("updatePhrases",r)}}))},getPhrases({commit:e}){q().get("/api/get_phrases").then((t=>{e("updatePhrases",t.data.phrases),e("updateMax",t.data.phrases.length),e("updateMin",0)})).catch((()=>{}))},random_phrase({commit:e}){e("random_phrase")},getUserData({commit:e}){q().get("/api/get_user_info").then((t=>{200===t.status&&(e("updateUser",t.data),this.dispatch("getPhrases"),this.dispatch("getFriends"))})).catch((t=>{403==t.response.status&&e("updateUser",null)}))}},modules:{}}),ui=s(5658),mi=JSON.parse('{"navbar-title":"Bevise","select-language":"Cambia lingua","new-sentence":"Estrai frase","do-not-repeat":"Non ripetere","sentence-available":"Sono ancora disponibili <strong> {count} </strong> frasi","navbar":{"sentences":"Le tue frasi","logout":"Esci","login":"Accedi","friends":"Amici","profile":"Il tuo profilo"},"home":{"welcome":"Benvenuto","need-login":"Per usare questa app devi <a href=\'#/login\'>accedere</a> o <a href=\'#/register\'>registrarti</a>","include-friends-sentences":"Includi le frasi di:","enable-tts":"Abilita TTS"},"add-sentences":"Aggiungi frasi","add-sentences-here":"Aggiungi frasi qui","your-sentences":"Le tue frasi","add-phrases":"Aggiungi frasi","delete":"Elimina","confirm-deletion":"Conferma eliminazione","confirm-deletion-text":"Sei sicuro di voler eliminare questa frase?","confirm-deletion-button-agree":"Sono sicuro eliminala!","confirm-deletion-button-deny":"Nope!","sentence-deleted":"Frase eliminata","sentence-added":"Frase aggiunta","password-requirements":"La password deve contenere almeno 8 caratteri, una lettera maiuscola, una lettera minuscola e un numero","paginator":{"previous":"Prec.","next":"Succ.","first":"Prima","last":"Ultima","search":"Cerca"},"modal-edit":{"title":"Modifica frase","save":"Salva","cancel":"Annulla"},"sign-up":{"button":"Registrati","title":"Registrati","errors":{"password-requirements":"La password deve contenere almeno 8 caratteri, una lettera maiuscola, una lettera minuscola e un numero","username-taken":"Questo username √® gi√† in uso"}},"login":{"button":"Accedi","title":"Accedi","create-account":"Non hai un account?","errors":{"password-incorrect":"La password √® sbagliata","username-does-not-exits":"Questo username non esiste"}},"sentence-edited":"Frase modificata con successo","share-text":"Leggi questa frase","no-sentences-available":"Non ci sono frasi disponibili, per aggiungere vai nel menu e clicca su \'Le le tue frasi\'","friends":{"errors":{"username-does-not-exits":"Questo username non esiste","check-your-invoice":"Controlla le tue richieste di amicizia","already-requested":"Richiesta di amicizia gia inviata","already-friends":"Sei gia amico","no-request-found":"Nessuna richiesta trovata"},"modal":{"remove":{"title":"Rimuovi amico","text":"Sei sicuro di voler rimuovere questo amico?","button-agree":"S√¨, rimuovilo!","button-deny":"No, non rimuovilo!"}},"title":"I tuoi amici","add-friend":"Aggiungi amico","requests":"Richieste di amicizia","no-request-recived":"Non hai ricevuto richieste di amicizia","friend":"I tuoi amici","avatar-seed":"Seed Avatar","description":"Descrizione","no-description":"Nessuna descrizione","since":"Da","remove":"Rimuovi amico","friend-removed":"Amico rimosso","request-sent":"Richiesta inviata"},"profile":{"title":"Il tuo profilo","avatar-seed":"Seed Avatar","description":"Descrizione","no-description":"Nessuna descrizione","since":"Da"},"tts-error":"Errore TTS","start-game":"Inizia il gioco","stop-game":"Ferma il gioco"}'),hi=JSON.parse('{"navbar-title":"Drinkif","select-language":"Select language","new-sentence":"Extract new sentence","do-not-repeat":"Do not repeat","sentence-available":"There are still available <strong> {count} </strong> sentences","navbar":{"sentences":"Sentences","logout":"Logout","login":"Login"},"home":{"welcome":"Welcome","need-login":"In order to use this app you have to <a href=\'#/login\'>login</a> or <a href=\'#/register\'>sign-up</a>"},"add-sentences":"Add sentences","add-sentences-here":"Add sentences here","your-sentences":"Your sentences","add-phrases":"Add phrases","delete":"Delete","confirm-deletion":"Confirm deletion","confirm-deletion-text":"Are you sure you want to delete this sentence?","confirm-deletion-button-agree":"I am sure delete it!","confirm-deletion-button-deny":"No way!","sentence-deleted":"Sentence deleted","sentence-added":"Sentence added","password-requirements":"Password must be at least 8 characters long and contain at least one number and one letter","paginator":{"previous":"Previous","next":"Next","last":"Last","first":"First","search":"Search"},"modal-edit":{"title":"Edit sentence","save":"Save","cancel":"Cancel"},"sign-up":{"button":"Sign-up","title":"Sign-up","errors":{"password-requirements":"Password must be at least 8 characters long and contain at least one number and one letter","username-taken":"Username is already taken"}},"login":{"button":"Login","title":"Login","create-account":"You don\'t have an account?","errors":{"password-incorrect":"Password is incorrect","username-does-not-exits":"Username does not exists"}},"sentence-edited":"Sentence edited successfully","share-text":"I shared this sentence"}'),pi={"it-IT":mi,"en-US":hi},gi=(0,ui.o)({globalInjection:!0,legacy:!1,locale:"it-IT",fallbackLocale:"it-IT",messages:pi});s(4235),s(8760),(0,a.ri)(L).use(di).use(gi).use(li).mount("#app")},2822:function(e,t,s){"use strict";e.exports=s.p+"img/drunk_256.37de052f.png"}},t={};function s(a){var i=t[a];if(void 0!==i)return i.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,a,i,n){if(!a){var r=1/0;for(d=0;d<e.length;d++){a=e[d][0],i=e[d][1],n=e[d][2];for(var o=!0,l=0;l<a.length;l++)(!1&n||r>=n)&&Object.keys(s.O).every((function(e){return s.O[e](a[l])}))?a.splice(l--,1):(o=!1,n<r&&(r=n));if(o){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[a,i,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,n,r=a[0],o=a[1],l=a[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(i in o)s.o(o,i)&&(s.m[i]=o[i]);if(l)var d=l(s)}for(t&&t(a);c<r.length;c++)n=r[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(d)},a=self["webpackChunknewfrontend"]=self["webpackChunknewfrontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(5795)}));a=s.O(a)})();
//# sourceMappingURL=app.89226426.js.map