(function(e){function t(t){for(var s,i,c=t[0],o=t[1],l=t[2],d=0,h=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&h.push(a[i][0]),a[i]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);u&&u(t);while(h.length)h.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,c=1;c<n.length;c++){var o=n[c];0!==a[o]&&(s=!1)}s&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},a={app:0},r=[];function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=o;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1452:function(e,t,n){},"2cae":function(e,t,n){"use strict";n("553b")},"553b":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("be3b");var s=n("f2bf");function a(e,t,n,a,r,i){var c=Object(s["B"])("Navbar"),o=Object(s["B"])("router-view");return Object(s["u"])(),Object(s["g"])("div",null,[Object(s["j"])(c),Object(s["j"])(o)])}var r=function(e){return Object(s["x"])("data-v-d1d3c044"),e=e(),Object(s["v"])(),e},i={class:"navbar has-background-dark"},c={class:"container"},o={class:"navbar-brand"},l={class:"title mt-3 mb-1 ml-2 has-text-primary"},u=Object(s["i"])("DrinkIf"),d=r((function(){return Object(s["h"])("a",{class:"navbar-item",href:"#"},null,-1)})),h=r((function(){return Object(s["h"])("span",{class:"navbar-burger burger","data-target":"navbarMenu"},[Object(s["h"])("span"),Object(s["h"])("span"),Object(s["h"])("span")],-1)})),b={id:"navbarMenu",class:"navbar-menu has-background-dark"},m={class:"navbar-end"},p={class:"navbar-item"},f={key:0,class:"navbar-item"},O={key:1,class:"navbar-item"},j={key:2,class:"navbar-item"},g={class:"navbar-item"},v={key:1,href:"/api/logout"};function y(e,t,n,a,r,y){var S=Object(s["B"])("router-link"),x=Object(s["B"])("SelectLocale");return Object(s["u"])(),Object(s["g"])("nav",i,[Object(s["h"])("div",c,[Object(s["h"])("div",o,[Object(s["h"])("p",l,[Object(s["j"])(S,{to:"/"},{default:Object(s["J"])((function(){return[u]})),_:1})]),d,h]),Object(s["h"])("div",b,[Object(s["h"])("div",m,[Object(s["h"])("div",p,[Object(s["i"])(Object(s["D"])(e.$t("select-language"))+" ",1),Object(s["j"])(x)]),null!=e.$store.state.user?(Object(s["u"])(),Object(s["g"])("div",f,[Object(s["j"])(S,{to:"/phrases"},{default:Object(s["J"])((function(){return[Object(s["i"])(Object(s["D"])(e.$t("navbar.sentences")),1)]})),_:1})])):Object(s["f"])("",!0),null!=e.$store.state.user?(Object(s["u"])(),Object(s["g"])("div",O,[Object(s["j"])(S,{to:"/profile"},{default:Object(s["J"])((function(){return[Object(s["i"])(Object(s["D"])(e.$t("navbar.profile")),1)]})),_:1})])):Object(s["f"])("",!0),null!=e.$store.state.user?(Object(s["u"])(),Object(s["g"])("div",j,[Object(s["j"])(S,{to:"/friends"},{default:Object(s["J"])((function(){return[Object(s["i"])(Object(s["D"])(e.$t("navbar.friends")),1)]})),_:1})])):Object(s["f"])("",!0),Object(s["h"])("div",g,[null==e.$store.state.user?(Object(s["u"])(),Object(s["e"])(S,{key:0,to:"/login"},{default:Object(s["J"])((function(){return[Object(s["i"])(Object(s["D"])(e.$t("navbar.login")),1)]})),_:1})):Object(s["f"])("",!0),null!=e.$store.state.user?(Object(s["u"])(),Object(s["g"])("a",v,Object(s["D"])(e.$t("navbar.logout")),1)):Object(s["f"])("",!0)])])])])])}n("fb6a"),n("d3b7"),n("159b"),n("a4d3"),n("e01a");var S=["value"];function x(e,t,n,a,r,i){return Object(s["K"])((Object(s["u"])(),Object(s["g"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$i18n.locale=t}),class:"select ml-2",id:"select-language"},[(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(r.langs,(function(e,t){return Object(s["u"])(),Object(s["g"])("option",{key:"lang-".concat(t.value),value:e.value},Object(s["D"])(e.description),9,S)})),128))],512)),[[s["G"],e.$i18n.locale]])}var k={name:"SelectLocale",data:function(){return{langs:[{value:"en-US",description:"English ðŸ‡ºðŸ‡¸"},{value:"it-IT",description:"Italiano ðŸ‡®ðŸ‡¹"}]}}},$=n("6b0d"),z=n.n($);const _=z()(k,[["render",x]]);var D=_,w={name:"Navbar",props:{},computed:{},components:{SelectLocale:D}};document.addEventListener("DOMContentLoaded",(function(){var e=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);e.length>0&&e.forEach((function(e){e.addEventListener("click",(function(){var t=e.dataset.target,n=document.getElementById(t);e.classList.toggle("is-active"),n.classList.toggle("is-active")}))}))}));n("2cae");const I=z()(w,[["render",y],["__scopeId","data-v-d1d3c044"]]);var N=I,R=n("bc3a"),P=n.n(R),C={name:"App",components:{Navbar:N},mounted:function(){var e=this,t="";null==localStorage.getItem("locale")?localStorage.setItem("locale",t):t=localStorage.getItem("locale"),P.a.post("/api/csrf").then((function(){e.$store.dispatch("getUserData")}))}};const F=z()(C,[["render",a]]);var L=F,q=(n("e9c4"),n("33d1"),n("ea98"),n("a434"),n("4de4"),n("ac1f"),n("1276"),n("5502")),T=Object(q["a"])({state:{user:null==JSON.parse(localStorage.getItem("user"))?null:JSON.parse(localStorage.getItem("user")),friends:[],doNotRepeat:null!=JSON.parse(localStorage.getItem("doNotRepeat"))&&JSON.parse(localStorage.getItem("doNotRepeat")),current_phrase:null==JSON.parse(localStorage.getItem("current_phrase"))?{phrase_text:"",phrase_id:null}:JSON.parse(localStorage.getItem("current_phrase")),history:[],available:null==JSON.parse(localStorage.getItem("available"))?[]:JSON.parse(localStorage.getItem("available")),min:null==JSON.parse(localStorage.getItem("min"))?0:JSON.parse(localStorage.getItem("min")),max:null==JSON.parse(localStorage.getItem("max"))?100:JSON.parse(localStorage.getItem("max")),phrases:null==JSON.parse(localStorage.getItem("sentences"))?[]:JSON.parse(localStorage.getItem("sentences")),errors:[],maxSentence:0},mutations:{set_maxSentence:function(e,t){e.maxSentence=t},set_phrase:function(e,t){e.current_phrase=t,localStorage.setItem("current_phrase",JSON.stringify(e.current_phrase))},random_phrase:function(e){if(0==e.phrases.length)e.errors.push("no-sentences-available");else if(e.doNotRepeat){if(e.available.length<=0)return;var t=Math.ceil(0),n=Math.floor(e.available.length-1),s=Math.floor(Math.random()*(n-t+1)+t),a=e.available.indexOf(e.available.at(s));this.commit("set_phrase",e.available.at(s)),a>-1&&e.available.splice(a,1),localStorage.setItem("available",JSON.stringify(e.available))}else{var r=Math.ceil(e.min),i=Math.floor(e.max),c=Math.floor(Math.random()*(i-r+1)+r);this.commit("set_phrase",e.phrases.at(c))}},updateMax:function(e,t){var n=parseInt(t);n!=e.max&&(isNaN(n)||(e.max=n,localStorage.setItem("max",JSON.stringify(n)),this.commit("updateDoNotRepeat",e.doNotRepeat)),this.commit("set_phrase",{phrase_text:"",phrase_id:null}))},updateMin:function(e,t){var n=parseInt(t);n!=e.min&&(isNaN(n)||(e.min=n,localStorage.setItem("min",JSON.stringify(n)),this.commit("updateDoNotRepeat",e.doNotRepeat)),this.commit("set_phrase",{phrase_text:"",phrase_id:null}))},updateDoNotRepeat:function(e,t){e.doNotRepeat=t},updateAvailable:function(e,t){e.available=t,localStorage.setItem("available",JSON.stringify(e.available))},clear_errors:function(e){e.errors=[]},updateUser:function(e,t){e.user=t,localStorage.setItem("user",JSON.stringify(e.user))},updatePhrases:function(e,t){e.phrases=t,localStorage.setItem("sentences",JSON.stringify(e.phrases))},updateFriends:function(e,t){e.friends=t},clearHistory:function(e){e.history=[]},addToHistory:function(e,t){var n={phrase_text:t.phrase_text,id:t.id,creator:t.creator};e.history.push(n)}},actions:{doNotRepeat:function(e,t){var n=e.commit,s=e.state,a=t.includeFriends;if(n("updateDoNotRepeat",t.doNotRepeat),localStorage.setItem("doNotRepeat",JSON.stringify(t)),s.doNotRepeat){var r=s.phrases.filter((function(e){return!!e.public&&(e.creator==s.user.username||(!!a[e.creator]||void 0))}));n("updateAvailable",r),localStorage.setItem("available",JSON.stringify(s.available))}},getFriends:function(e){var t=e.commit;P.a.get("/api/get_friends").then((function(e){200===e.status&&t("updateFriends",e.data.friends)}))},setSentenceVisibility:function(e,t){var n=e.commit,s=e.state,a=t.id,r=t.visibility,i=t.trigger;function c(e){var t="; ".concat(document.cookie),n=t.split("; ".concat(e,"="));if(2===n.length)return n.pop().split(";").shift()}i.classList.add("is-loading");var o=c("csrftoken");P.a.post("/api/change_sentence_visibility",{id:a,visibility:r},{headers:{"X-CSRFToken":o}}).then((function(e){if(i.classList.remove("is-loading"),200===e.status){var t=s.phrases;t.forEach((function(e){e.id==a&&(e.public=r)})),n("updatePhrases",t)}}))},getPhrases:function(e){var t=e.commit;P.a.get("/api/get_phrases").then((function(e){t("updatePhrases",e.data.phrases),t("updateMax",e.data.phrases.length),t("updateMin",0)})).catch((function(){}))},random_phrase:function(e){var t=e.commit;t("random_phrase")},getUserData:function(e){var t=this,n=e.commit;P.a.get("/api/get_user_info").then((function(e){200===e.status&&(n("updateUser",e.data),t.dispatch("getPhrases"),t.dispatch("getFriends"))})).catch((function(e){403==e.response.status&&n("updateUser",null)}))}},modules:{}}),A=n("6c02"),U=n("8902"),E=n.n(U),J=function(e){return Object(s["x"])("data-v-82dd329c"),e=e(),Object(s["v"])(),e},M={class:"hero"},H={class:"has-text-centered m-3 title"},B=["innerHTML"],V=J((function(){return Object(s["h"])("div",{class:"has-text-centered m-3"},[Object(s["h"])("figure",{alt:"Drunk",class:"image is-128x128 is-inline-block"},[Object(s["h"])("img",{src:E.a,alt:""})])],-1)})),K={key:0,class:"has-text-centered"},G={class:"has-text-white is-size-3 has-text-weight-bold"},X={key:0},Q={class:"has-text-centered m-3"},Y={key:2,class:"field is-horizontal column is-4 is-offset-4"},W={class:"field-label is-normal"},Z={class:"label has-text-white"},ee={class:"field-body"},te={class:"field"},ne={class:"control"},se=["placeholder"],ae=Object(s["i"])(" Â  "),re={key:0,class:"columns"},ie={class:"column is-4 is-offset-4"},ce={class:"card has-text-black"},oe={class:"is-size-5 p-2 has-text-black has-text-weight-bold"},le=["for"],ue=["id","onUpdate:modelValue"],de={key:1,class:"has-text-centered m-3"},he={for:"enableTTS",class:"has-text-white ml-5"},be={key:2,class:"columns"},me={class:"column is-4 is-offset-4"},pe={key:0,class:"message is-primary"},fe={class:"message-body"},Oe=["innerHTML"],je={key:3,class:"columns"},ge={class:"column is-4 is-offset-4 has-text-centered has-text-white"},ve=J((function(){return Object(s["h"])("span",{class:"icon is-small"},[Object(s["h"])("i",{class:"fas fa-hand-paper"})],-1)})),ye={key:4,class:"columns"},Se={class:"column is-4 is-offset-4 has-text-centered has-text-white"},xe=J((function(){return Object(s["h"])("span",{class:"icon is-small"},[Object(s["h"])("i",{class:"fas fa-bug"})],-1)})),ke=J((function(){return Object(s["h"])("span",null,"Debug",-1)})),$e=[xe,ke],ze=J((function(){return Object(s["h"])("a",{id:"downloadAnchorElem",style:{display:"none"}},null,-1)}));function _e(e,t,n,a,r,i){return Object(s["u"])(),Object(s["g"])("section",M,[Object(s["h"])("div",null,[Object(s["h"])("div",H,[Object(s["h"])("p",{innerHTML:null!=this.$store.state.user?"":this.$t("home.need-login")},null,8,B)]),V,null!=e.$store.state.user&&r.isStarted?(Object(s["u"])(),Object(s["g"])("div",K,[Object(s["h"])("span",G,Object(s["D"])(e.$store.state.current_phrase.phrase_text),1)])):Object(s["f"])("",!0)]),null!=e.$store.state.user?(Object(s["u"])(),Object(s["g"])("div",X,[Object(s["h"])("div",Q,[r.isStarted?(Object(s["u"])(),Object(s["g"])("button",{key:1,onClick:t[1]||(t[1]=function(){return i.extractSentece&&i.extractSentece.apply(i,arguments)}),class:"button is-primary is-outlined"},Object(s["D"])(e.$t("new-sentence")),1)):(Object(s["u"])(),Object(s["g"])("button",{key:0,onClick:t[0]||(t[0]=function(){return i.startGame&&i.startGame.apply(i,arguments)}),class:"button is-primary"},Object(s["D"])(e.$t("start-game")),1)),r.isStarted?Object(s["f"])("",!0):(Object(s["u"])(),Object(s["g"])("div",Y,[Object(s["h"])("div",W,[Object(s["h"])("label",Z,Object(s["D"])(e.$t("max-sentence")),1)]),Object(s["h"])("div",ee,[Object(s["h"])("div",te,[Object(s["h"])("p",ne,[Object(s["K"])(Object(s["h"])("input",{class:"input",type:"email",placeholder:e.$t("max-sentence"),"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.maxSentence=e})},null,8,se),[[s["H"],i.maxSentence]])])])]),ae,Object(s["h"])("button",{class:"button",onClick:t[3]||(t[3]=function(e){return i.maxSentence=i.howManySentences})},"Max")]))]),e.$store.state.friends.length>0&&!r.isStarted?(Object(s["u"])(),Object(s["g"])("div",re,[Object(s["h"])("div",ie,[Object(s["h"])("div",ce,[Object(s["h"])("p",oe,Object(s["D"])(e.$t("home.include-friends-sentences")),1),(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(e.$store.state.friends,(function(e){return Object(s["u"])(),Object(s["g"])("label",{key:e.id,for:"check-sentences-"+e.username,class:"checkbox column"},[Object(s["K"])(Object(s["h"])("input",{type:"checkbox",name:"",id:"check-sentences-"+e.username,"onUpdate:modelValue":function(t){return r.includeFriends[e.username]=t}},null,8,ue),[[s["F"],r.includeFriends[e.username]]]),Object(s["i"])(" "+Object(s["D"])(e.username),1)],8,le)})),128))])])])):Object(s["f"])("",!0),r.isStarted?(Object(s["u"])(),Object(s["g"])("div",de,[Object(s["h"])("label",he,[Object(s["K"])(Object(s["h"])("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.enableTTS=e}),id:"enableTTS"},null,512),[[s["F"],r.enableTTS]]),Object(s["i"])(" "+Object(s["D"])(e.$t("home.enable-tts")),1)])])):Object(s["f"])("",!0),r.isStarted?(Object(s["u"])(),Object(s["g"])("div",be,[Object(s["h"])("div",me,[i.doNotRepeat?(Object(s["u"])(),Object(s["g"])("article",pe,[Object(s["h"])("div",fe,[Object(s["h"])("p",{innerHTML:e.$t("sentence-available",{count:e.$store.state.available.length})},null,8,Oe)])])):Object(s["f"])("",!0)])])):Object(s["f"])("",!0),r.isStarted?(Object(s["u"])(),Object(s["g"])("div",je,[Object(s["h"])("div",ge,[Object(s["h"])("div",{class:"button is-danger",onClick:t[5]||(t[5]=function(){return i.stopGame&&i.stopGame.apply(i,arguments)})},[ve,Object(s["h"])("span",null,Object(s["D"])(e.$t("stop-game")),1)])])])):Object(s["f"])("",!0),e.$store.state.user.isDeveloper?(Object(s["u"])(),Object(s["g"])("div",ye,[Object(s["h"])("div",Se,[Object(s["h"])("div",{class:"button is-success",onClick:t[6]||(t[6]=function(){return i.debugDownload&&i.debugDownload.apply(i,arguments)})},$e)])])):Object(s["f"])("",!0)])):Object(s["f"])("",!0),ze])}var De=n("4b44"),we={name:"Home",data:function(){return{isStarted:null!=JSON.parse(localStorage.getItem("isStarted"))&&JSON.parse(localStorage.getItem("isStarted")),includeFriends:{},friendsSentences:{},enableTTS:!1,audio:new Audio}},methods:{startGame:function(){this.isStarted=!0,localStorage.setItem("isStarted",!0),this.$store.dispatch("doNotRepeat",{doNotRepeat:!0,includeFriends:this.includeFriends}),this.$store.commit("clearHistory"),this.$store.commit("set_phrase",{})},stopGame:function(){this.isStarted=!1,localStorage.setItem("isStarted",!1),this.$store.dispatch("doNotRepeat",{doNotRepeat:!1,includeFriends:this.includeFriends})},extractSentece:function(){var e=this;if(0!=this.sentences.length){if(!(this.$store.state.available.length<=0)){var t=Math.ceil(0),n=Math.floor(this.$store.state.available.length-1),s=Math.floor(Math.random()*(n-t+1)+t),a=this.$store.state.available.indexOf(this.$store.state.available.at(s));this.$store.commit("set_phrase",this.$store.state.available.at(a)),this.$store.commit("addToHistory",this.$store.state.available.at(a)),a>-1&&this.$store.state.available.splice(a,1),localStorage.setItem("available",JSON.stringify(this.$store.state.available)),this.enableTTS&&P.a.get("/api/gtts?sentence="+encodeURIComponent(this.$store.state.current_phrase.phrase_text)).then((function(t){e.audio.pause(),e.audio.currentTime=0,e.audio.src=t.data.url,e.audio.play()})).catch((function(){Object(De["toast"])({message:e.$t("tts-error"),type:"is-warning",position:"top-right",duration:12e3,dismissible:!0})}))}}else Object(De["toast"])({message:this.$t("no-sentences-available"),type:"is-warning",position:"top-right",duration:12e3,dismissible:!0})},debugDownload:function(){var e={friends:this.$store.state.friends,doNotRepeat:this.$store.state.doNotRepeat,current_phrase:this.$store.state.current_phrase,history:this.$store.state.history,available:this.$store.state.available,phrases:this.$store.state.phrases,errors:this.$store.state.errors},t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),n=document.getElementById("downloadAnchorElem");n.setAttribute("href",t),n.setAttribute("download","debug.json"),n.click()}},mounted:function(){},computed:{howManySentences:function(){return this.$store.state.available.filter((function(e){return e.public})).length},maxSentence:{get:function(){return this.$store.state.maxSentence},set:function(e){this.$store.commit("set_maxSentence",e)}},sentences:function(){var e=this;return this.$store.state.phrases.filter((function(t){return t.creator==e.$store.state.user.username||(!!e.includeFriends[t.creator]||void 0)}))},doNotRepeat:{get:function(){return this.$store.state.doNotRepeat}},min:{get:function(){return this.$store.state.min},set:function(e){this.$store.commit("updateMin",e)}},max:{get:function(){return this.$store.state.max},set:function(e){this.$store.commit("updateMax",e)}},state_errors:{get:function(){return this.$store.state.errors}}}};n("59b0");const Ie=z()(we,[["render",_e],["__scopeId","data-v-82dd329c"]]);var Ne=Ie,Re={class:"about"},Pe=Object(s["h"])("h1",null,"This is an about page",-1),Ce=[Pe];function Fe(e,t){return Object(s["u"])(),Object(s["g"])("div",Re,Ce)}const Le={},qe=z()(Le,[["render",Fe]]);var Te=qe,Ae={class:"columns"},Ue={id:"login-view",class:"column is-half is-offset-one-quarter"},Ee={class:"card m-6 p-4"},Je={class:"has-text-black title"},Me={class:"field"},He={class:"control has-icons-left"},Be=Object(s["h"])("span",{class:"icon is-small is-left"},[Object(s["h"])("i",{class:"fas fa-envelope has-text-primary"})],-1),Ve={class:"field"},Ke={class:"control has-icons-left"},Ge=Object(s["h"])("span",{class:"icon is-small is-left"},[Object(s["h"])("i",{class:"fas fa-lock has-text-primary"})],-1),Xe={class:"button ml-2"};function Qe(e,t,n,a,r,i){var c=Object(s["B"])("router-link");return Object(s["u"])(),Object(s["g"])("div",Ae,[Object(s["h"])("div",Ue,[Object(s["h"])("div",Ee,[Object(s["h"])("h1",Je,Object(s["D"])(e.$t("login.title")),1),Object(s["h"])("div",Me,[Object(s["h"])("p",He,[Object(s["K"])(Object(s["h"])("input",{class:"input",type:"username",placeholder:"username","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.username=e})},null,512),[[s["H"],r.username]]),Be])]),Object(s["h"])("div",Ve,[Object(s["h"])("p",Ke,[Object(s["K"])(Object(s["h"])("input",{class:"input",type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.password=e})},null,512),[[s["H"],r.password]]),Ge])]),Object(s["h"])("div",null,[Object(s["h"])("button",{onClick:t[2]||(t[2]=function(e){return i.login()}),id:"login-button",class:"button"},Object(s["D"])(e.$t("login.button")),1),Object(s["h"])("div",Xe,[Object(s["j"])(c,{to:"/register"},{default:Object(s["J"])((function(){return[Object(s["i"])(Object(s["D"])(e.$t("login.create-account")),1)]})),_:1})])])])])])}function Ye(e){var t="; ".concat(document.cookie),n=t.split("; ".concat(e,"="));if(2===n.length)return n.pop().split(";").shift()}var We={data:function(){return{username:"",password:""}},methods:{login:function(){var e=this,t=Ye("csrftoken");document.getElementById("login-button").classList.add("is-loading"),P.a.post("/api/login",{username:this.username,password:this.password},{headers:{"X-CSRFToken":t}}).then((function(t){200===t.status&&(e.$store.dispatch("getUserData"),e.$router.push("/")),document.getElementById("login-button").classList.remove("is-loading")})).catch((function(t){if(500!=t.response.status){var n=t.response.data.description;null==n&&(n="Generic error"),Object(De["toast"])({message:e.$t(n),type:"is-danger",duration:1e4})}document.getElementById("login-button").classList.remove("is-loading")}))}}};n("d985");const Ze=z()(We,[["render",Qe]]);var et=Ze,tt={class:"columns"},nt={id:"login-view",class:"column is-half is-offset-one-quarter"},st={class:"card m-6 p-4"},at={class:"has-text-black title"},rt={class:"field"},it={class:"control has-icons-left has-icons-right"},ct=Object(s["h"])("span",{class:"icon is-small is-left"},[Object(s["h"])("i",{class:"fas fa-envelope"})],-1),ot=Object(s["h"])("span",{class:"icon is-small is-right"},[Object(s["h"])("i",{class:"fas fa-check"})],-1),lt={class:"field"},ut={class:"control has-icons-left has-text-black p-2"},dt=Object(s["h"])("span",{class:"icon is-small is-left"},[Object(s["h"])("i",{class:"fas fa-lock"})],-1);function ht(e,t,n,a,r,i){return Object(s["u"])(),Object(s["g"])("div",tt,[Object(s["h"])("div",nt,[Object(s["h"])("div",st,[Object(s["h"])("h1",at,Object(s["D"])(e.$t("sign-up.title")),1),Object(s["h"])("div",rt,[Object(s["h"])("p",it,[Object(s["K"])(Object(s["h"])("input",{class:"input",type:"username",placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.username=e})},null,512),[[s["H"],r.username]]),ct,ot])]),Object(s["h"])("div",lt,[Object(s["h"])("p",ut,[Object(s["i"])(Object(s["D"])(e.$t("password-requirements"))+" ",1),Object(s["K"])(Object(s["h"])("input",{class:"input mt-1",type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.password=e})},null,512),[[s["H"],r.password]]),dt])]),Object(s["h"])("div",null,[Object(s["h"])("button",{onClick:t[2]||(t[2]=function(t){return i.register(e.inputs)}),id:"register-button",class:"button"},Object(s["D"])(e.$t("sign-up.button")),1)])])])])}function bt(e){var t="; ".concat(document.cookie),n=t.split("; ".concat(e,"="));if(2===n.length)return n.pop().split(";").shift()}var mt={data:function(){return{username:"",password:""}},methods:{register:function(){var e=this,t=bt("csrftoken");document.getElementById("register-button").classList.add("is-loading"),P.a.post("/api/register",{username:this.username,password:this.password},{headers:{"X-CSRFToken":t}}).then((function(e){200===e.status&&(null!=e.data.description&&Object(De["toast"])({message:e.data.description,type:"is-success",duration:1e4}),window.location.href="/"),document.getElementById("register-button").classList.remove("is-loading")})).catch((function(t){if(500!=t.response.status){var n=t.response.data.description;null==n&&(n="Generic error"),Object(De["toast"])({message:e.$t(n),type:"is-danger",duration:1e4})}document.getElementById("register-button").classList.remove("is-loading")}))}}};n("7a7a");const pt=z()(mt,[["render",ht]]);var ft=pt,Ot=(n("841c"),{class:"columns"}),jt={id:"phrases-view",class:"column is-half is-offset-one-quarter"},gt={class:"card m-auto p-4"},vt={class:"has-text-black title"},yt={class:"has-text-black"},St={class:"m-1"},xt={class:"title has-text-white m-3 has-text-centered"},kt={class:"container"},$t={class:"columns is-centered is-mobile"},zt={class:"column auto has-text-centered"},_t=["disabled"],Dt=["disabled"],wt={class:"has-text-white m-2 subtitle"},It=["disabled"],Nt=["disabled"],Rt={lass:"columns is-centered"},Pt={class:"column auto has-text-centered is-one-third is-offset-one-third"},Ct=["placeholder"],Ft={class:"columns"},Lt={class:"column is-one-third is-offset-one-third"},qt={class:"card m-2 p-3 has-text-black"},Tt={class:"has-text-black columns is-flex is-vcentered m-0"},At=Object(s["h"])("strong",null," UUID ",-1),Ut={class:"card-content"},Et={class:"content"},Jt={class:"card-footer"},Mt=["onClick"],Ht=Object(s["h"])("span",{class:"material-icons"},"delete",-1),Bt=[Ht],Vt=["onClick"],Kt=Object(s["h"])("span",{class:"material-icons","data-target":"modal-edit"},"edit",-1),Gt=[Kt],Xt=["onClick"],Qt=Object(s["h"])("span",{class:"material-icons"},"share",-1),Yt=[Qt],Wt=["id","onClick"],Zt=Object(s["h"])("i",{class:"fas fa-globe-europe"},null,-1),en=[Zt],tn=["id","onClick"],nn=Object(s["h"])("i",{class:"fas fa-lock"},null,-1),sn=[nn],an={id:"modal-edit",class:"modal"},rn=Object(s["h"])("div",{class:"modal-background"},null,-1),cn={class:"modal-card"},on={class:"modal-card-head"},ln={class:"modal-card-title"},un=Object(s["h"])("button",{class:"delete","aria-label":"close"},null,-1),dn={class:"modal-card-body"},hn={class:"modal-card-foot"},bn={class:"button"},mn={id:"modal-confirm-delete",class:"modal"},pn=Object(s["h"])("div",{class:"modal-background"},null,-1),fn={class:"modal-card"},On={class:"modal-card-head"},jn={class:"modal-card-title"},gn=Object(s["h"])("button",{class:"delete","aria-label":"close"},null,-1),vn={class:"modal-card-body"},yn={class:"modal-card-foot"},Sn={class:"button"};function xn(e,t,n,a,r,i){return Object(s["u"])(),Object(s["g"])("div",null,[Object(s["h"])("div",Ot,[Object(s["h"])("div",jt,[Object(s["h"])("div",gt,[Object(s["h"])("h1",vt,Object(s["D"])(e.$t("add-sentences")),1),Object(s["h"])("p",yt,Object(s["D"])(e.$t("add-sentences-here")),1),Object(s["K"])(Object(s["h"])("textarea",{class:"textarea",placeholder:"","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.phrases=t})},null,512),[[s["H"],e.phrases]]),Object(s["h"])("div",St,[Object(s["h"])("button",{class:"button is-primary is-outlined",onClick:t[1]||(t[1]=function(){return i.add_phrases&&i.add_phrases.apply(i,arguments)})},Object(s["D"])(e.$t("add-phrases")),1)])])])]),Object(s["h"])("div",xt,Object(s["D"])(e.$t("your-sentences")),1),Object(s["h"])("div",kt,[Object(s["h"])("div",$t,[Object(s["h"])("div",zt,[Object(s["h"])("button",{class:"button",onClick:t[2]||(t[2]=function(){return i.firstPage&&i.firstPage.apply(i,arguments)}),disabled:""!=e.search},Object(s["D"])(e.$t("paginator.first")),9,_t),Object(s["h"])("button",{class:"button",onClick:t[3]||(t[3]=function(){return i.previousPage&&i.previousPage.apply(i,arguments)}),disabled:""!=e.search},Object(s["D"])(e.$t("paginator.previous")),9,Dt),Object(s["h"])("span",wt,Object(s["D"])(e.currentPage),1),Object(s["h"])("button",{class:"button",onClick:t[4]||(t[4]=function(){return i.nextPage&&i.nextPage.apply(i,arguments)}),disabled:""!=e.search},Object(s["D"])(e.$t("paginator.next")),9,It),Object(s["h"])("button",{class:"button",onClick:t[5]||(t[5]=function(){return i.lastPage&&i.lastPage.apply(i,arguments)}),disabled:""!=e.search},Object(s["D"])(e.$t("paginator.last")),9,Nt)])])]),Object(s["h"])("div",Rt,[Object(s["h"])("div",Pt,[Object(s["K"])(Object(s["h"])("input",{type:"text",name:"",id:"",placeholder:e.$t("paginator.search"),class:"input","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.search=t})},null,8,Ct),[[s["H"],e.search]])])]),(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(i.page,(function(e){return Object(s["u"])(),Object(s["g"])("div",{key:e.id,class:""},[Object(s["h"])("div",Ft,[Object(s["h"])("div",Lt,[Object(s["h"])("div",qt,[Object(s["h"])("div",Tt,[At,Object(s["i"])(" #"+Object(s["D"])(e.id),1)]),Object(s["h"])("div",Ut,[Object(s["h"])("div",Et,Object(s["D"])(e.phrase_text),1)]),Object(s["h"])("div",Jt,[Object(s["h"])("button",{class:"button is-danger is-outlined m-2 js-modal-trigger card-footer-item","data-target":"modal-confirm-delete",onClick:function(t){return i.set_delete_id(e.id)}},Bt,8,Mt),Object(s["h"])("button",{class:"button is-primary is-outlined m-2 js-modal-trigger card-footer-item",onClick:function(t){return i.set_edit_id(e.id)}},Gt,8,Vt),i.shareEnabled?(Object(s["u"])(),Object(s["g"])("button",{key:0,class:"button is-success is-outlined m-2 card-footer-item",onClick:function(t){return i.share(e.id)}},Yt,8,Xt)):Object(s["f"])("",!0),e.public?(Object(s["u"])(),Object(s["g"])("button",{key:1,class:"button is-success m-2 card-footer-item",id:e.id+"_sentence_public",onClick:function(t){return i.set_visibility(e.id,!1,t)}},en,8,Wt)):(Object(s["u"])(),Object(s["g"])("button",{key:2,class:"button is-warning m-2 card-footer-item",id:e.id+"_sentence_private",onClick:function(t){return i.set_visibility(e.id,!0,t)}},sn,8,tn))])])])])])})),128)),Object(s["h"])("div",an,[rn,Object(s["h"])("div",cn,[Object(s["h"])("header",on,[Object(s["h"])("p",ln,Object(s["D"])(e.$t("modal-edit.title")),1),un]),Object(s["h"])("section",dn,[Object(s["K"])(Object(s["h"])("textarea",{name:"",id:"",cols:"30",rows:"3","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.edit_text=t}),class:"textarea"},null,512),[[s["H"],e.edit_text]])]),Object(s["h"])("footer",hn,[Object(s["h"])("button",{class:"button is-danger",onClick:t[8]||(t[8]=function(){return i.confirm_save&&i.confirm_save.apply(i,arguments)})},Object(s["D"])(e.$t("modal-edit.save")),1),Object(s["h"])("button",bn,Object(s["D"])(e.$t("modal-edit.cancel")),1)])])]),Object(s["h"])("div",mn,[pn,Object(s["h"])("div",fn,[Object(s["h"])("header",On,[Object(s["h"])("p",jn,Object(s["D"])(e.$t("confirm-deletion")),1),gn]),Object(s["h"])("section",vn,Object(s["D"])(e.$t("confirm-deletion-text")),1),Object(s["h"])("footer",yn,[Object(s["h"])("button",{class:"button is-danger",onClick:t[9]||(t[9]=function(){return i.confirm_delete&&i.confirm_delete.apply(i,arguments)})},Object(s["D"])(e.$t("confirm-deletion-button-agree")),1),Object(s["h"])("button",Sn,Object(s["D"])(e.$t("confirm-deletion-button-deny")),1)])])])])}n("caad"),n("2532"),n("7db0");function kn(e){var t="; ".concat(document.cookie),n=t.split("; ".concat(e,"="));if(2===n.length)return n.pop().split(";").shift()}var $n={data:function(){return{delete_id:-1,edit_id:-1,edit_text:"",itemPerPage:5,currentPage:null==localStorage.getItem("currentPage")?1:localStorage.getItem("currentPage"),search:"",phrases:""}},computed:{shareEnabled:function(){return void 0!=navigator.share},sentences:function(){var e,t=this;try{e=this.$store.state.phrases.filter((function(e){return e.creator==t.$store.state.user.username}))}catch(n){e=[]}return e},page:{get:function(){var e=this,t=[];return t=""!=this.search?this.sentences.filter((function(t){var n=t.phrase_text.toLowerCase(),s=e.search.toLowerCase();return n.includes(s)})):this.sentences.slice((this.currentPage-1)*this.itemPerPage,this.currentPage*this.itemPerPage),t}}},methods:{set_visibility:function(e,t,n){this.$store.dispatch("setSentenceVisibility",{id:e,visibility:t,trigger:n.target})},firstPage:function(){this.currentPage=1},lastPage:function(){this.currentPage=Math.ceil(this.sentences.length/this.itemPerPage)},previousPage:function(){this.currentPage>1&&this.currentPage--},nextPage:function(){this.currentPage<this.sentences.length/this.itemPerPage&&this.currentPage++},confirm_delete:function(){var e=this,t=kn("csrftoken");P.a.post("/api/delete_phrase",{id:this.delete_id},{headers:{"X-CSRFToken":t}}).then((function(){e.$store.dispatch("getPhrases"),Object(De["toast"])({message:e.$t("sentence-deleted"),type:"is-danger",dismissible:!0,pauseOnHover:!0,duration:3e3,position:"top-right"})})).catch((function(){}))},set_delete_id:function(e){function t(e){e.classList.add("is-active")}this.delete_id=e,t(document.getElementById("modal-confirm-delete"))},set_edit_id:function(e){function t(e){e.classList.add("is-active")}this.edit_id=e,this.edit_text=this.sentences.find((function(t){return t.id==e})).phrase_text,t(document.getElementById("modal-edit"))},confirm_save:function(){var e=this,t=kn("csrftoken");P.a.post("/api/edit_phrase",{id:this.edit_id,text:this.edit_text},{headers:{"X-CSRFToken":t}}).then((function(){e.$store.dispatch("getPhrases"),Object(De["toast"])({message:e.$t("sentence-edited"),type:"is-success",pauseOnHover:!0,duration:3e3,position:"top-right"})})).catch((function(){}))},add_phrases:function(){var e=this,t=this.phrases.split(/\r?\n/),n=kn("csrftoken");P.a.post("/api/add_phrases",{phrases:t},{headers:{"X-CSRFToken":n}}).then((function(t){200===t.status&&(e.$store.dispatch("getPhrases"),e.phrases="",Object(De["toast"])({message:"Sentences added!",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:3e3,position:"top-right"}))}))},share:function(e){var t=window.location,n=t.protocol+"//"+t.host+"/"+t.pathname.split("/")[1];navigator.share({title:"DrinkIf",text:this.$t("share-text"),url:n+"#/share/"+e})}},mounted:function(){function e(e){e.classList.add("is-active")}function t(e){e.classList.remove("is-active")}function n(){(document.querySelectorAll(".modal")||[]).forEach((function(e){t(e)}))}null==this.$store.state.user&&this.$router.push("/"),(document.querySelectorAll(".js-modal-trigger")||[]).forEach((function(t){var n=t.dataset.target,s=document.getElementById(n);t.addEventListener("click",(function(){e(s)}))})),(document.querySelectorAll(".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button")||[]).forEach((function(e){var n=e.closest(".modal");e.addEventListener("click",(function(){t(n)}))})),document.addEventListener("keydown",(function(e){var t=e||window.event;27===t.keyCode&&n()}))},watch:{currentPage:function(e){localStorage.setItem("currentPage",e)}}};const zn=z()($n,[["render",xn]]);var _n=zn,Dn={class:"hero is-fullheight"},wn={class:"columns"},In={class:"column is-one-third is-offset-one-third"},Nn={class:"card has-text-black m-6 p-4"},Rn={class:"card-body"};function Pn(e,t,n,a,r,i){return Object(s["u"])(),Object(s["g"])("div",Dn,[Object(s["h"])("div",wn,[Object(s["h"])("div",In,[Object(s["h"])("div",Nn,[Object(s["h"])("div",null,[Object(s["h"])("strong",null," #UUID "+Object(s["D"])(e.sentence.id),1)]),Object(s["h"])("div",Rn,Object(s["D"])(e.sentence.text),1)])])])])}var Cn={data:function(){return{sentence:{id:null,text:""}}},mounted:function(){var e=this;this.$route.params.id,P.a.post("/api/get_by_id",{id:this.$route.params.id}).then((function(t){e.sentence=t.data.sentence}))}};const Fn=z()(Cn,[["render",Pn]]);var Ln=Fn,qn={class:"container"},Tn={class:"has-text-white title m-2 has-text-centered"},An={class:"columns"},Un={class:"column is-one-third"},En={class:"subtitle"},Jn={class:"field has-addons"},Mn={class:"control has-icons-left"},Hn=Object(s["h"])("span",{class:"icon is-left has-text-primary"},[Object(s["h"])("i",{class:"fas fa-user-plus"})],-1),Bn={class:"control"},Vn=Object(s["h"])("i",{class:"fas fa-plus"},null,-1),Kn=[Vn],Gn={class:"columns"},Xn={class:"column"},Qn={class:"subtitle"},Yn={key:0,class:"has-text-white"},Wn={class:"columns is-multiline"},Zn={class:"card"},es={class:"card-content"},ts={class:"media"},ns={class:"media-left"},ss={class:"image is-48x48"},as=["src"],rs={class:"media-content"},is={class:"title"},cs={class:"card-footer"},os=["onClick"],ls=Object(s["h"])("strong",null,[Object(s["h"])("span",{class:"material-icons has-text-success"},"done")],-1),us=[ls],ds=["onClick"],hs=Object(s["h"])("strong",null,[Object(s["h"])("span",{class:"material-icons has-text-danger"},"close")],-1),bs=[hs],ms={class:"has-text-white subtitle"},ps={class:"columns has-text-black is-multiline"},fs={class:"card has-text-black"},Os=Object(s["h"])("div",{class:"card-image"},null,-1),js={class:"card-content"},gs={class:"media"},vs={class:"media-left"},ys={class:"image is-48x48"},Ss=["src"],xs={class:"media-content"},ks={class:"title"},$s=Object(s["h"])("div",null,null,-1),zs={class:"content"},_s={class:""},Ds=["value"],ws={class:"has-text-grey"},Is={class:"card-footer"},Ns=["onClick"],Rs=Object(s["h"])("i",{class:"fas fa-user-slash"},null,-1),Ps={id:"modal-friends-remove",class:"modal"},Cs=Object(s["h"])("div",{class:"modal-background"},null,-1),Fs={class:"modal-card mx-2"},Ls={class:"modal-card-head"},qs={class:"modal-card-title"},Ts=Object(s["h"])("button",{class:"delete","aria-label":"close"},null,-1),As={class:"modal-card-body"},Us={class:"modal-card-foot"},Es={class:"button"};function Js(e,t,n,a,r,i){var c=this;return Object(s["u"])(),Object(s["g"])("div",qn,[Object(s["h"])("h1",Tn,Object(s["D"])(this.$t("friends.title")),1),Object(s["h"])("div",An,[Object(s["h"])("div",Un,[Object(s["h"])("div",En,Object(s["D"])(this.$t("friends.add-friend")),1),Object(s["h"])("div",Jn,[Object(s["h"])("p",Mn,[Object(s["K"])(Object(s["h"])("input",{class:"input",type:"username",placeholder:"username","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchFriend=t})},null,512),[[s["H"],e.searchFriend]]),Hn]),Object(s["h"])("div",Bn,[Object(s["h"])("a",{class:"button is-primary",id:"add-button",onClick:t[1]||(t[1]=function(){return i.sendFriendRequest&&i.sendFriendRequest.apply(i,arguments)})},Kn)])])])]),Object(s["h"])("div",Gn,[Object(s["h"])("div",Xn,[Object(s["h"])("div",Qn,Object(s["D"])(this.$t("friends.requests")),1),0==e.friendRequestsReceived.length?(Object(s["u"])(),Object(s["g"])("p",Yn,Object(s["D"])(this.$t("friends.no-request-recived")),1)):Object(s["f"])("",!0),Object(s["h"])("div",Wn,[(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(e.friendRequestsReceived,(function(e){return Object(s["u"])(),Object(s["g"])("div",{class:"column is-one-quarter",key:e.id},[Object(s["h"])("div",Zn,[Object(s["h"])("div",es,[Object(s["h"])("div",ts,[Object(s["h"])("div",ns,[Object(s["h"])("figure",ss,[Object(s["h"])("img",{src:e.avatar.url,alt:"Placeholder image",class:"is-rounded"},null,8,as)])]),Object(s["h"])("div",rs,[Object(s["h"])("p",is,Object(s["D"])(e.username),1)])])]),Object(s["h"])("footer",cs,[Object(s["h"])("span",{style:{cursor:"pointer"},class:"card-footer-item",onClick:function(t){return i.handle_friendship_request(e.username,!0)}},us,8,os),Object(s["h"])("span",{style:{cursor:"pointer"},class:"card-footer-item",onClick:function(t){return i.handle_friendship_request(e.username,!1)}},bs,8,ds)])])])})),128))])])]),Object(s["h"])("div",ms,Object(s["D"])(this.$t("friends.friend")),1),Object(s["h"])("div",ps,[(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(this.$store.state.friends,(function(e){return Object(s["u"])(),Object(s["g"])("div",{class:"column is-one-third",key:e.id},[Object(s["h"])("div",fs,[Os,Object(s["h"])("div",js,[Object(s["h"])("div",gs,[Object(s["h"])("div",vs,[Object(s["h"])("figure",ys,[Object(s["h"])("img",{src:e.avatar.url,alt:"Placeholder image",class:"is-rounded"},null,8,Ss)])]),Object(s["h"])("div",xs,[Object(s["h"])("p",ks,Object(s["D"])(e.username),1),$s])]),Object(s["h"])("div",zs,[Object(s["h"])("label",_s,[Object(s["i"])(Object(s["D"])(c.$t("friends.avatar-seed"))+" ",1),Object(s["h"])("input",{type:"text",class:"input",disabled:"",value:e.avatar.seed},null,8,Ds)]),Object(s["h"])("p",null,Object(s["D"])(c.$t("friends.description")),1),Object(s["h"])("p",null,Object(s["D"])(""==e.description?c.$t("profile.no-description"):e.description),1),Object(s["h"])("div",null,[Object(s["h"])("p",ws,Object(s["D"])(c.$t("friends.since"))+" "+Object(s["D"])(i.getHumanDate(e.creation_date)),1)])]),Object(s["h"])("footer",Is,[Object(s["h"])("div",{class:"card-footer-item has-text-danger",style:{cursor:"pointer"},onClick:function(t){return i.confirmRemoveFriend(e.username)}},[Object(s["i"])(Object(s["D"])(c.$t("friends.remove"))+" ",1),Rs],8,Ns)])])])])})),128))]),Object(s["h"])("div",Ps,[Cs,Object(s["h"])("div",Fs,[Object(s["h"])("header",Ls,[Object(s["h"])("p",qs,Object(s["D"])(e.$t("friends.modal.remove.title")),1),Ts]),Object(s["h"])("section",As,Object(s["D"])(e.$t("friends.modal.remove.text",e.removeFriendUsername)),1),Object(s["h"])("footer",Us,[Object(s["h"])("button",{class:"button is-danger",onClick:t[2]||(t[2]=function(){return i.RemoveFriend&&i.RemoveFriend.apply(i,arguments)})},Object(s["D"])(e.$t("friends.modal.remove.button-agree")),1),Object(s["h"])("button",Es,Object(s["D"])(e.$t("friends.modal.remove.button-deny")),1)])])])])}function Ms(e){var t="; ".concat(document.cookie),n=t.split("; ".concat(e,"="));if(2===n.length)return n.pop().split(";").shift()}var Hs={data:function(){return{removeFriendUsername:"",searchFriend:"",friendRequestsReceived:[]}},methods:{getHumanDate:function(e){var t={weekday:"long",year:"numeric",month:"long",day:"numeric"},n=new Date(e);return n.toLocaleDateString(navigator.language,t)},RemoveFriend:function(){var e=this,t=Ms("csrftoken");P.a.post("/api/remove_friend",{username:this.removeFriendUsername},{headers:{"X-CSRFToken":t}}).then((function(t){200===t.status&&(e.getFriendshipRequests(),e.$store.dispatch("getUserData"),Object(De["toast"])({message:e.$t("friends.friend-removed"),type:"is-success",duration:6e3}))})).catch((function(t){if(500!=t.response.status){var n=t.response.data.description;null==n&&(n="Generic error"),Object(De["toast"])({message:e.$t(n),type:"is-danger",duration:1e4})}}))},confirmRemoveFriend:function(e){function t(e){e.classList.add("is-active")}this.removeFriendUsername=e,t(document.getElementById("modal-friends-remove"))},handle_friendship_request:function(e,t){var n=this,s=Ms("csrftoken");P.a.post("/api/handle_friendship_requests",{username:e,accepted:t},{headers:{"X-CSRFToken":s}}).then((function(e){200===e.status&&(n.getFriendshipRequests(),n.$store.dispatch("getUserData"))})).catch((function(){}))},getFriendshipRequests:function(){var e=this,t=Ms("csrftoken");P.a.post("/api/get_friendship_requests",{},{headers:{"X-CSRFToken":t}}).then((function(t){200===t.status&&(e.friendRequestsReceived=t.data.requests)})).catch((function(){}))},sendFriendRequest:function(){var e=this;document.getElementById("add-button").classList.add("is-loading");var t=Ms("csrftoken");P.a.post("/api/new_friendship_request",{username:this.searchFriend},{headers:{"X-CSRFToken":t}}).then((function(t){200===t.status&&Object(De["toast"])({message:e.$t("friends.request-sent"),type:"is-success",duration:6e3}),document.getElementById("add-button").classList.remove("is-loading")})).catch((function(t){if(500!=t.response.status){var n=t.response.data.description;null==n&&(n="Generic error"),Object(De["toast"])({message:e.$t(n),type:"is-danger",duration:1e4})}document.getElementById("add-button").classList.remove("is-loading")}))}},mounted:function(){function e(e){e.classList.remove("is-active")}this.$store.dispatch("getUserData"),this.getFriendshipRequests(),(document.querySelectorAll(".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button")||[]).forEach((function(t){var n=t.closest(".modal");t.addEventListener("click",(function(){e(n)}))}))}};const Bs=z()(Hs,[["render",Js]]);var Vs=Bs,Ks={class:"container"},Gs={class:"has-text-white title m-2 has-text-centered"},Xs={class:"columns has-text-black"},Qs={class:"column is-half is-offset-one-quarter"},Ys={class:"card has-text-black m-3"},Ws=Object(s["h"])("div",{class:"card-image"},null,-1),Zs={class:"card-content"},ea={class:"media"},ta={class:"media-left"},na={class:"image is-48x48"},sa=["src"],aa={class:"media-content"},ra={class:"is-size-3 has-text-weight-bold"},ia={class:"content"},ca={class:"mb-1"},oa={for:"avatar-seed",class:"field has-addons"},la=["value"],ua={class:"control"},da=Object(s["h"])("i",{class:"fas fa-dice-d20"},null,-1),ha=[da],ba={class:"has-text-grey"};function ma(e,t,n,a,r,i){return Object(s["u"])(),Object(s["g"])("div",Ks,[Object(s["h"])("h1",Gs,Object(s["D"])(this.$t("profile.title")),1),Object(s["h"])("div",Xs,[Object(s["h"])("div",Qs,[Object(s["h"])("div",Ys,[Ws,Object(s["h"])("div",Zs,[Object(s["h"])("div",ea,[Object(s["h"])("div",ta,[Object(s["h"])("figure",na,[Object(s["h"])("img",{src:this.$store.state.user.avatar.url,alt:"Placeholder image",class:"is-rounded"},null,8,sa)])]),Object(s["h"])("div",aa,[Object(s["h"])("p",ra,Object(s["D"])(this.$store.state.user.username),1)])]),Object(s["h"])("div",ia,[Object(s["h"])("div",ca,[Object(s["h"])("label",oa,[Object(s["i"])(Object(s["D"])(this.$t("profile.avatar-seed"))+" ",1),Object(s["h"])("input",{id:"avatar-seed",type:"text",class:"input",disabled:"",value:this.$store.state.user.avatar.seed},null,8,la),Object(s["h"])("div",ua,[Object(s["h"])("a",{class:"button is-primary",id:"add-button",onClick:t[0]||(t[0]=function(){return i.newAvatarSeed&&i.newAvatarSeed.apply(i,arguments)})},ha)])])]),Object(s["h"])("p",null,Object(s["D"])(this.$t("profile.description")),1),Object(s["h"])("p",null,Object(s["D"])(""==this.$store.state.user.description?this.$t("profile.no-description"):this.$store.state.user.description),1),Object(s["h"])("p",ba,Object(s["D"])(this.$t("profile.since"))+" "+Object(s["D"])(i.date_joined),1)])])])])])])}function pa(e){var t="; ".concat(document.cookie),n=t.split("; ".concat(e,"="));if(2===n.length)return n.pop().split(";").shift()}var fa={data:function(){return{}},methods:{newAvatarSeed:function(){var e=this,t=pa("csrftoken");P.a.post("/api/new_seed",{},{headers:{"X-CSRFToken":t}}).then((function(){e.$store.dispatch("getUserData")})).catch((function(){}))}},computed:{date_joined:function(){var e={weekday:"long",year:"numeric",month:"long",day:"numeric"},t=new Date(this.$store.state.user.creation_date);return t.toLocaleDateString(navigator.language,e)}}};const Oa=z()(fa,[["render",ma]]);var ja=Oa,ga=[{path:"/",name:"Home",component:Ne},{path:"/about",name:"About",component:Te},{path:"/register",name:"Register",component:ft},{path:"/login",name:"Login",component:et},{path:"/phrases",name:"Phrases",component:_n},{path:"/share/:id",name:"Share",component:Ln},{path:"/friends",name:"friends",component:Vs},{path:"/profile",name:"profile",component:ja}],va=Object(A["a"])({history:Object(A["b"])(),routes:ga}),ya=va,Sa=n("67b0"),xa=n("47e2"),ka={"navbar-title":e=>{const{normalize:t}=e;return t(["Bevise"])},"select-language":e=>{const{normalize:t}=e;return t(["Cambia lingua"])},"new-sentence":e=>{const{normalize:t}=e;return t(["Estrai frase"])},"max-sentence":e=>{const{normalize:t}=e;return t(["Numero frasi"])},"do-not-repeat":e=>{const{normalize:t}=e;return t(["Non ripetere"])},"sentence-available":e=>{const{normalize:t,interpolate:n,named:s}=e;return t(["Sono ancora disponibili <strong> ",n(s("count"))," </strong> frasi"])},navbar:{sentences:e=>{const{normalize:t}=e;return t(["Le tue frasi"])},logout:e=>{const{normalize:t}=e;return t(["Esci"])},login:e=>{const{normalize:t}=e;return t(["Accedi"])},friends:e=>{const{normalize:t}=e;return t(["Amici"])},profile:e=>{const{normalize:t}=e;return t(["Il tuo profilo"])}},home:{welcome:e=>{const{normalize:t}=e;return t(["Benvenuto"])},"need-login":e=>{const{normalize:t}=e;return t(["Per usare questa app devi <a href='#/login'>accedere</a> o <a href='#/register'>registrarti</a>"])},"include-friends-sentences":e=>{const{normalize:t}=e;return t(["Includi le frasi di:"])},"enable-tts":e=>{const{normalize:t}=e;return t(["Abilita TTS"])}},"add-sentences":e=>{const{normalize:t}=e;return t(["Aggiungi frasi"])},"add-sentences-here":e=>{const{normalize:t}=e;return t(["Aggiungi frasi qui"])},"your-sentences":e=>{const{normalize:t}=e;return t(["Le tue frasi"])},"add-phrases":e=>{const{normalize:t}=e;return t(["Aggiungi frasi"])},delete:e=>{const{normalize:t}=e;return t(["Elimina"])},"confirm-deletion":e=>{const{normalize:t}=e;return t(["Conferma eliminazione"])},"confirm-deletion-text":e=>{const{normalize:t}=e;return t(["Sei sicuro di voler eliminare questa frase?"])},"confirm-deletion-button-agree":e=>{const{normalize:t}=e;return t(["Sono sicuro eliminala!"])},"confirm-deletion-button-deny":e=>{const{normalize:t}=e;return t(["Nope!"])},"sentence-deleted":e=>{const{normalize:t}=e;return t(["Frase eliminata"])},"sentence-added":e=>{const{normalize:t}=e;return t(["Frase aggiunta"])},"password-requirements":e=>{const{normalize:t}=e;return t(["La password deve contenere almeno 8 caratteri, una lettera maiuscola, una lettera minuscola e un numero"])},paginator:{previous:e=>{const{normalize:t}=e;return t(["Prec."])},next:e=>{const{normalize:t}=e;return t(["Succ."])},first:e=>{const{normalize:t}=e;return t(["Prima"])},last:e=>{const{normalize:t}=e;return t(["Ultima"])},search:e=>{const{normalize:t}=e;return t(["Cerca"])}},"modal-edit":{title:e=>{const{normalize:t}=e;return t(["Modifica frase"])},save:e=>{const{normalize:t}=e;return t(["Salva"])},cancel:e=>{const{normalize:t}=e;return t(["Annulla"])}},"sign-up":{button:e=>{const{normalize:t}=e;return t(["Registrati"])},title:e=>{const{normalize:t}=e;return t(["Registrati"])},errors:{"password-requirements":e=>{const{normalize:t}=e;return t(["La password deve contenere almeno 8 caratteri, una lettera maiuscola, una lettera minuscola e un numero"])},"username-taken":e=>{const{normalize:t}=e;return t(["Questo username Ã¨ giÃ  in uso"])}}},login:{button:e=>{const{normalize:t}=e;return t(["Accedi"])},title:e=>{const{normalize:t}=e;return t(["Accedi"])},"create-account":e=>{const{normalize:t}=e;return t(["Non hai un account?"])},errors:{"password-incorrect":e=>{const{normalize:t}=e;return t(["La password Ã¨ sbagliata"])},"username-does-not-exits":e=>{const{normalize:t}=e;return t(["Questo username non esiste"])}}},"sentence-edited":e=>{const{normalize:t}=e;return t(["Frase modificata con successo"])},"share-text":e=>{const{normalize:t}=e;return t(["Leggi questa frase"])},"no-sentences-available":e=>{const{normalize:t}=e;return t(["Non ci sono frasi disponibili, per aggiungere vai nel menu e clicca su 'Le le tue frasi'"])},friends:{errors:{"username-does-not-exits":e=>{const{normalize:t}=e;return t(["Questo username non esiste"])},"check-your-invoice":e=>{const{normalize:t}=e;return t(["Controlla le tue richieste di amicizia"])},"already-requested":e=>{const{normalize:t}=e;return t(["Richiesta di amicizia gia inviata"])},"already-friends":e=>{const{normalize:t}=e;return t(["Sei gia amico"])},"no-request-found":e=>{const{normalize:t}=e;return t(["Nessuna richiesta trovata"])}},modal:{remove:{title:e=>{const{normalize:t}=e;return t(["Rimuovi amico"])},text:e=>{const{normalize:t}=e;return t(["Sei sicuro di voler rimuovere questo amico?"])},"button-agree":e=>{const{normalize:t}=e;return t(["SÃ¬, rimuovilo!"])},"button-deny":e=>{const{normalize:t}=e;return t(["No, non rimuovilo!"])}}},title:e=>{const{normalize:t}=e;return t(["I tuoi amici"])},"add-friend":e=>{const{normalize:t}=e;return t(["Aggiungi amico"])},requests:e=>{const{normalize:t}=e;return t(["Richieste di amicizia"])},"no-request-recived":e=>{const{normalize:t}=e;return t(["Non hai ricevuto richieste di amicizia"])},friend:e=>{const{normalize:t}=e;return t(["I tuoi amici"])},"avatar-seed":e=>{const{normalize:t}=e;return t(["Seed Avatar"])},description:e=>{const{normalize:t}=e;return t(["Descrizione"])},"no-description":e=>{const{normalize:t}=e;return t(["Nessuna descrizione"])},since:e=>{const{normalize:t}=e;return t(["Da"])},remove:e=>{const{normalize:t}=e;return t(["Rimuovi amico"])},"friend-removed":e=>{const{normalize:t}=e;return t(["Amico rimosso"])},"request-sent":e=>{const{normalize:t}=e;return t(["Richiesta inviata"])}},profile:{title:e=>{const{normalize:t}=e;return t(["Il tuo profilo"])},"avatar-seed":e=>{const{normalize:t}=e;return t(["Seed Avatar"])},description:e=>{const{normalize:t}=e;return t(["Descrizione"])},"no-description":e=>{const{normalize:t}=e;return t(["Nessuna descrizione"])},since:e=>{const{normalize:t}=e;return t(["Da"])}},"tts-error":e=>{const{normalize:t}=e;return t(["Errore TTS"])},"start-game":e=>{const{normalize:t}=e;return t(["Inizia il gioco"])},"stop-game":e=>{const{normalize:t}=e;return t(["Ferma il gioco"])}},$a={"navbar-title":e=>{const{normalize:t}=e;return t(["Drinkif"])},"select-language":e=>{const{normalize:t}=e;return t(["Select language"])},"new-sentence":e=>{const{normalize:t}=e;return t(["Extract new sentence"])},"do-not-repeat":e=>{const{normalize:t}=e;return t(["Do not repeat"])},"sentence-available":e=>{const{normalize:t,interpolate:n,named:s}=e;return t(["There are still available <strong> ",n(s("count"))," </strong> sentences"])},navbar:{sentences:e=>{const{normalize:t}=e;return t(["Sentences"])},logout:e=>{const{normalize:t}=e;return t(["Logout"])},login:e=>{const{normalize:t}=e;return t(["Login"])}},home:{welcome:e=>{const{normalize:t}=e;return t(["Welcome"])},"need-login":e=>{const{normalize:t}=e;return t(["In order to use this app you have to <a href='#/login'>login</a> or <a href='#/register'>sign-up</a>"])}},"add-sentences":e=>{const{normalize:t}=e;return t(["Add sentences"])},"add-sentences-here":e=>{const{normalize:t}=e;return t(["Add sentences here"])},"your-sentences":e=>{const{normalize:t}=e;return t(["Your sentences"])},"add-phrases":e=>{const{normalize:t}=e;return t(["Add phrases"])},delete:e=>{const{normalize:t}=e;return t(["Delete"])},"confirm-deletion":e=>{const{normalize:t}=e;return t(["Confirm deletion"])},"confirm-deletion-text":e=>{const{normalize:t}=e;return t(["Are you sure you want to delete this sentence?"])},"confirm-deletion-button-agree":e=>{const{normalize:t}=e;return t(["I am sure delete it!"])},"confirm-deletion-button-deny":e=>{const{normalize:t}=e;return t(["No way!"])},"sentence-deleted":e=>{const{normalize:t}=e;return t(["Sentence deleted"])},"sentence-added":e=>{const{normalize:t}=e;return t(["Sentence added"])},"password-requirements":e=>{const{normalize:t}=e;return t(["Password must be at least 8 characters long and contain at least one number and one letter"])},paginator:{previous:e=>{const{normalize:t}=e;return t(["Previous"])},next:e=>{const{normalize:t}=e;return t(["Next"])},last:e=>{const{normalize:t}=e;return t(["Last"])},first:e=>{const{normalize:t}=e;return t(["First"])},search:e=>{const{normalize:t}=e;return t(["Search"])}},"modal-edit":{title:e=>{const{normalize:t}=e;return t(["Edit sentence"])},save:e=>{const{normalize:t}=e;return t(["Save"])},cancel:e=>{const{normalize:t}=e;return t(["Cancel"])}},"sign-up":{button:e=>{const{normalize:t}=e;return t(["Sign-up"])},title:e=>{const{normalize:t}=e;return t(["Sign-up"])},errors:{"password-requirements":e=>{const{normalize:t}=e;return t(["Password must be at least 8 characters long and contain at least one number and one letter"])},"username-taken":e=>{const{normalize:t}=e;return t(["Username is already taken"])}}},login:{button:e=>{const{normalize:t}=e;return t(["Login"])},title:e=>{const{normalize:t}=e;return t(["Login"])},"create-account":e=>{const{normalize:t}=e;return t(["You don't have an account?"])},errors:{"password-incorrect":e=>{const{normalize:t}=e;return t(["Password is incorrect"])},"username-does-not-exits":e=>{const{normalize:t}=e;return t(["Username does not exists"])}}},"sentence-edited":e=>{const{normalize:t}=e;return t(["Sentence edited successfully"])},"share-text":e=>{const{normalize:t}=e;return t(["I shared this sentence"])}},za={"it-IT":ka,"en-US":$a},_a=Object(xa["a"])({globalInjection:!0,legacy:!1,locale:"it-IT",fallbackLocale:"it-IT",messages:za});n("b383"),n("8010"),n("7051"),n("619b"),Object(s["d"])(L).use(_a).use(ya).use(T).use(Sa["a"]).mount("#app")},"59b0":function(e,t,n){"use strict";n("5d0f")},"5d0f":function(e,t,n){},"7a7a":function(e,t,n){"use strict";n("1452")},8010:function(e,t){},8902:function(e,t,n){e.exports=n.p+"img/drunk_256.63df9e15.png"},a575:function(e,t,n){},b383:function(e,t,n){},be3b:function(e,t){},d985:function(e,t,n){"use strict";n("a575")}});
//# sourceMappingURL=app.a491bd4a.js.map