(function(e){function t(t){for(var n,c,o=t[0],i=t[1],l=t[2],p=0,d=[];p<o.length;p++)c=o[p],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&d.push(s[c][0]),s[c]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var i=a[o];0!==s[i]&&(n=!1)}n&&(r.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},s={app:0},r=[];function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/static/src/vue/dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=i;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0148":function(e,t,a){},"0518":function(e,t,a){},"0871":function(e,t,a){"use strict";a("909e")},"0b87":function(e,t,a){},"11ee":function(e,t,a){"use strict";a("0518")},"52fd":function(e,t,a){"use strict";a("0148")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("be3b");var n=a("f2bf");function s(e,t,a,s,r,c){var o=Object(n["y"])("Navbar"),i=Object(n["y"])("router-view");return Object(n["r"])(),Object(n["f"])("div",null,[Object(n["i"])(o),Object(n["i"])(i)])}var r=function(e){return Object(n["u"])("data-v-6fdf170a"),e=e(),Object(n["s"])(),e},c={class:"navbar"},o={class:"container"},i={class:"navbar-brand"},l={class:"title mt-3 mb-1 ml-2 has-text-primary"},u=Object(n["h"])("DrinkIf"),p=r((function(){return Object(n["g"])("a",{class:"navbar-item",href:"#"},null,-1)})),d=r((function(){return Object(n["g"])("span",{class:"navbar-burger burger","data-target":"navbarMenu"},[Object(n["g"])("span"),Object(n["g"])("span"),Object(n["g"])("span")],-1)})),b={id:"navbarMenu",class:"navbar-menu has-background-dark"},f={class:"navbar-end"},h={key:0,class:"navbar-item"},g=Object(n["h"])("Yours phrases"),O={class:"navbar-item"},m=Object(n["h"])("Login"),j={key:1,href:"/logout"};function v(e,t,a,s,r,v){var y=Object(n["y"])("router-link");return Object(n["r"])(),Object(n["f"])("nav",c,[Object(n["g"])("div",o,[Object(n["g"])("div",i,[Object(n["g"])("p",l,[Object(n["i"])(y,{to:"/"},{default:Object(n["F"])((function(){return[u]})),_:1})]),p,d]),Object(n["g"])("div",b,[Object(n["g"])("div",f,[null!=e.$store.state.user?(Object(n["r"])(),Object(n["f"])("div",h,[Object(n["i"])(y,{to:"/phrases"},{default:Object(n["F"])((function(){return[g]})),_:1})])):Object(n["e"])("",!0),Object(n["g"])("div",O,[null==e.$store.state.user?(Object(n["r"])(),Object(n["d"])(y,{key:0,to:"/login"},{default:Object(n["F"])((function(){return[m]})),_:1})):Object(n["e"])("",!0),null!=e.$store.state.user?(Object(n["r"])(),Object(n["f"])("a",j,"Logout")):Object(n["e"])("",!0)])])])])])}a("fb6a"),a("d3b7"),a("159b");var y={name:"Navbar",props:{},computed:{}};document.addEventListener("DOMContentLoaded",(function(){var e=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);e.length>0&&e.forEach((function(e){e.addEventListener("click",(function(){var t=e.dataset.target,a=document.getElementById(t);e.classList.toggle("is-active"),a.classList.toggle("is-active")}))}))}));a("0871");var k=a("6b0d"),_=a.n(k);const N=_()(y,[["render",v],["__scopeId","data-v-6fdf170a"]]);var w=N,x={name:"App",components:{Navbar:w},mounted:function(){this.$store.commit("updateUser",window.user),this.$store.dispatch("getPhrases")}};const S=_()(x,[["render",s]]);var R=S,I=(a("e9c4"),a("33d1"),a("ea98"),a("a434"),a("5502")),M=a("bc3a"),J=a.n(M),C=Object(I["a"])({state:{user:null,doNotRepeat:null!=JSON.parse(localStorage.getItem("doNotRepeat"))&&JSON.parse(localStorage.getItem("doNotRepeat")),current_phrase:null==JSON.parse(localStorage.getItem("current_phrase"))?{phrase_text:"",phrase_id:null}:JSON.parse(localStorage.getItem("current_phrase")),history:[],available:null==JSON.parse(localStorage.getItem("available"))?[]:JSON.parse(localStorage.getItem("available")),min:null==JSON.parse(localStorage.getItem("min"))?0:JSON.parse(localStorage.getItem("min")),max:null==JSON.parse(localStorage.getItem("max"))?100:JSON.parse(localStorage.getItem("max")),phrases:[]},mutations:{increaseCounter:function(e){e.current_phrase++},decreaseCounter:function(e){e.current_phrase--},set_phrase:function(e,t){null!=e.current_phrase&&e.history.push(e.current_phrase),e.current_phrase=t,localStorage.setItem("current_phrase",JSON.stringify(e.current_phrase))},random_phrase:function(e){if(e.doNotRepeat){if(e.available.length<=0)return;var t=Math.ceil(0),a=Math.floor(e.available.length-1),n=Math.floor(Math.random()*(a-t+1)+t),s=e.available.indexOf(e.available.at(n));this.commit("set_phrase",e.available.at(n)),s>-1&&e.available.splice(s,1),localStorage.setItem("available",JSON.stringify(e.available))}else{var r=Math.ceil(e.min),c=Math.floor(e.max),o=Math.floor(Math.random()*(c-r+1)+r);this.commit("set_phrase",e.phrases.at(o))}},updateMax:function(e,t){var a=parseInt(t);a!=e.max&&(isNaN(a)||(e.max=a,localStorage.setItem("max",JSON.stringify(a)),this.commit("updateDoNotRepeat",e.doNotRepeat)),this.commit("set_phrase",{phrase_text:"",phrase_id:null}))},updateMin:function(e,t){var a=parseInt(t);a!=e.min&&(isNaN(a)||(e.min=a,localStorage.setItem("min",JSON.stringify(a)),this.commit("updateDoNotRepeat",e.doNotRepeat)),this.commit("set_phrase",{phrase_text:"",phrase_id:null}))},updateDoNotRepeat:function(e,t){if(e.doNotRepeat=t,localStorage.setItem("doNotRepeat",JSON.stringify(t)),e.doNotRepeat){e.available=[];for(var a=e.max,n=e.min,s=n;s<=a-1;s++)e.available.push(e.phrases.at(s));localStorage.setItem("available",JSON.stringify(e.available))}},updateUser:function(e,t){null!=t&&(e.user=t)},updatePhrases:function(e,t){e.phrases=t}},actions:{getPhrases:function(e){var t=e.commit;J.a.get("/get_phrases").then((function(e){console.log(e.data.phrases),t("updatePhrases",e.data.phrases),t("updateMax",e.data.phrases.length),t("updateMin",0)})).catch((function(e){console.log(e)}))},random_phrase:function(e){var t=e.commit;t("random_phrase")}},modules:{}}),P=a("6c02"),$=a("734e"),D=a.n($),A=function(e){return Object(n["u"])("data-v-1a5c9ea7"),e=e(),Object(n["s"])(),e},F={class:"hero"},L={class:"container"},U=A((function(){return Object(n["g"])("div",{class:"has-text-centered m-3"},[Object(n["g"])("figure",{alt:"Drunk",class:"image is-128x128 is-inline-block"},[Object(n["g"])("img",{src:D.a,alt:""})])],-1)})),T={class:"title has-text-centered"},G={class:"has-text-centered m-3"},V={class:"has-text-centered m-3"},q={for:"doNotRepeat",class:"has-text-white"},E=Object(n["h"])(" Do not repeat "),X={key:0,class:"message is-primary"},B={class:"message-body"},H=Object(n["h"])(" There are still available "),Y=Object(n["h"])(" phrases. ");function z(e,t,a,s,r,c){return Object(n["r"])(),Object(n["f"])("section",F,[Object(n["g"])("div",L,[Object(n["g"])("div",null,[U,Object(n["g"])("div",T,Object(n["A"])(e.$store.state.current_phrase.phrase_text),1)]),Object(n["g"])("div",G,[Object(n["g"])("button",{onClick:t[0]||(t[0]=function(t){return e.$store.dispatch("random_phrase")}),class:"button is-primary is-outlined"}," New Phrase ")]),Object(n["g"])("div",V,[Object(n["g"])("label",q,[Object(n["G"])(Object(n["g"])("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.doNotRepeat=e}),id:"doNotRepeat"},null,512),[[n["C"],c.doNotRepeat]]),E])]),c.doNotRepeat?(Object(n["r"])(),Object(n["f"])("article",X,[Object(n["g"])("div",B,[Object(n["g"])("p",null,[H,Object(n["g"])("strong",null,Object(n["A"])(e.$store.state.available.length),1),Y])])])):Object(n["e"])("",!0)])])}var K={name:"Home",props:{},mounted:function(){},computed:{doNotRepeat:{get:function(){return this.$store.state.doNotRepeat},set:function(e){this.$store.commit("updateDoNotRepeat",e)}},min:{get:function(){return this.$store.state.min},set:function(e){this.$store.commit("updateMin",e)}},max:{get:function(){return this.$store.state.max},set:function(e){this.$store.commit("updateMax",e)}}}};a("52fd");const Q=_()(K,[["render",z],["__scopeId","data-v-1a5c9ea7"]]);var W=Q,Z={class:"about"},ee=Object(n["g"])("h1",null,"This is an about page",-1),te=[ee];function ae(e,t){return Object(n["r"])(),Object(n["f"])("div",Z,te)}const ne={},se=_()(ne,[["render",ae]]);var re=se,ce={class:"columns"},oe={id:"login-view",class:"column is-half is-offset-one-quarter"},ie={class:"card m-6 p-4"},le=Object(n["g"])("h1",{class:"has-text-black title"},"Login",-1),ue={class:"field"},pe={class:"control has-icons-left has-icons-right"},de=Object(n["g"])("span",{class:"icon is-small is-left"},[Object(n["g"])("i",{class:"fas fa-envelope"})],-1),be=Object(n["g"])("span",{class:"icon is-small is-right"},[Object(n["g"])("i",{class:"fas fa-check"})],-1),fe={class:"field"},he={class:"control has-icons-left"},ge=Object(n["g"])("span",{class:"icon is-small is-left"},[Object(n["g"])("i",{class:"fas fa-lock"})],-1),Oe={class:"button"},me=Object(n["h"])("Create account");function je(e,t,a,s,r,c){var o=Object(n["y"])("router-link");return Object(n["r"])(),Object(n["f"])("div",ce,[Object(n["g"])("div",oe,[Object(n["g"])("div",ie,[le,Object(n["g"])("div",ue,[Object(n["g"])("p",pe,[Object(n["G"])(Object(n["g"])("input",{class:"input",type:"username",placeholder:"username","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.username=e})},null,512),[[n["D"],r.username]]),de,be])]),Object(n["g"])("div",fe,[Object(n["g"])("p",he,[Object(n["G"])(Object(n["g"])("input",{class:"input",type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.password=e})},null,512),[[n["D"],r.password]]),ge])]),Object(n["g"])("div",null,[Object(n["g"])("button",{onClick:t[2]||(t[2]=function(e){return c.login()}),id:"login-button",class:"button"},"Login")]),Object(n["g"])("div",Oe,[Object(n["i"])(o,{to:"/register"},{default:Object(n["F"])((function(){return[me]})),_:1})])])])])}a("ac1f"),a("1276");function ve(e){var t="; ".concat(document.cookie),a=t.split("; ".concat(e,"="));if(2===a.length)return a.pop().split(";").shift()}var ye={data:function(){return{username:"",password:""}},methods:{login:function(){var e=ve("csrftoken");console.log(e),J.a.post("/login",{username:this.username,password:this.password},{headers:{"X-CSRFToken":e}}).then((function(e){200===e.status&&(window.location.href="/")}))}}};a("f189");const ke=_()(ye,[["render",je]]);var _e=ke,Ne={class:"columns"},we={id:"login-view",class:"column is-half is-offset-one-quarter"},xe={class:"card m-6 p-4"},Se=Object(n["g"])("h1",{class:"has-text-black title"},"Register",-1),Re={class:"field"},Ie={class:"control has-icons-left has-icons-right"},Me=Object(n["g"])("span",{class:"icon is-small is-left"},[Object(n["g"])("i",{class:"fas fa-envelope"})],-1),Je=Object(n["g"])("span",{class:"icon is-small is-right"},[Object(n["g"])("i",{class:"fas fa-check"})],-1),Ce={class:"field"},Pe={class:"control has-icons-left"},$e=Object(n["g"])("span",{class:"icon is-small is-left"},[Object(n["g"])("i",{class:"fas fa-lock"})],-1);function De(e,t,a,s,r,c){return Object(n["r"])(),Object(n["f"])("div",Ne,[Object(n["g"])("div",we,[Object(n["g"])("div",xe,[Se,Object(n["g"])("div",Re,[Object(n["g"])("p",Ie,[Object(n["G"])(Object(n["g"])("input",{class:"input",type:"username",placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.username=e})},null,512),[[n["D"],r.username]]),Me,Je])]),Object(n["g"])("div",Ce,[Object(n["g"])("p",Pe,[Object(n["G"])(Object(n["g"])("input",{class:"input",type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.password=e})},null,512),[[n["D"],r.password]]),$e])]),Object(n["g"])("div",null,[Object(n["g"])("button",{onClick:t[2]||(t[2]=function(t){return c.register(e.inputs)}),id:"register-button",class:"button"},"Register")])])])])}function Ae(e){var t="; ".concat(document.cookie),a=t.split("; ".concat(e,"="));if(2===a.length)return a.pop().split(";").shift()}var Fe={data:function(){return{username:"",password:""}},methods:{register:function(){var e=Ae("csrftoken");J.a.post("/register",{username:this.username,password:this.password},{headers:{"X-CSRFToken":e}}).then((function(e){200===e.status&&(window.location.href="/")}))}}};a("11ee");const Le=_()(Fe,[["render",De]]);var Ue=Le,Te={class:"columns"},Ge={id:"phrases-view",class:"column is-half is-offset-one-quarter"},Ve={class:"card m-auto p-4"},qe=Object(n["g"])("h1",{class:"has-text-black title"},"Add phrases",-1),Ee=Object(n["g"])("p",{class:"has-text-black"},"Add phrases here",-1),Xe={class:"m-1"},Be=Object(n["g"])("div",{class:"title has-text-white m-3 has-text-centered"}," Yours sentences ",-1),He={class:"columns"},Ye={class:"column is-one-third is-offset-one-third"},ze={class:"card m-2 p-3"},Ke={class:"columns"},Qe={class:"column has-text-black"},We=["onClick"];function Ze(e,t,a,s,r,c){return Object(n["r"])(),Object(n["f"])("div",null,[Object(n["g"])("div",Te,[Object(n["g"])("div",Ge,[Object(n["g"])("div",Ve,[qe,Ee,Object(n["G"])(Object(n["g"])("textarea",{class:"textarea",placeholder:"","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.phrases=t})},null,512),[[n["D"],e.phrases]]),Object(n["g"])("div",Xe,[Object(n["g"])("button",{class:"button is-primary is-outlined",onClick:t[1]||(t[1]=function(e){return c.add_phrases()})}," Add phrases ")])])])]),Be,Object(n["g"])("ul",null,[(Object(n["r"])(!0),Object(n["f"])(n["a"],null,Object(n["x"])(e.$store.state.phrases,(function(e){return Object(n["r"])(),Object(n["f"])("li",{key:e.id,class:""},[Object(n["g"])("div",He,[Object(n["g"])("div",Ye,[Object(n["g"])("div",ze,[Object(n["g"])("div",Ke,[Object(n["g"])("div",Qe,Object(n["A"])(e.phrase_text),1),Object(n["g"])("button",{class:"button is-danger is-outlined m-2",onClick:function(t){return c.delete_phrase(e.id)}}," Delete ",8,We)])])])])])})),128))])])}function et(e){var t="; ".concat(document.cookie),a=t.split("; ".concat(e,"="));if(2===a.length)return a.pop().split(";").shift()}var tt={methods:{delete_phrase:function(e){var t=this,a=et("csrftoken");J.a.post("/delete_phrase",{id:e},{headers:{"X-CSRFToken":a}}).then((function(e){console.log(e),t.$store.dispatch("getPhrases")})).catch((function(e){console.log(e)}))},add_phrases:function(){for(var e=this.phrases.split(/\r?\n/),t=0;t<e.length;t++){var a=e[t],n=a.split(". ");n.length>1?e[t]=n[1]:e[t]=n[0]}console.log(e);var s=et("csrftoken");J.a.post("/add_phrases",{phrases:e},{headers:{"X-CSRFToken":s}}).then((function(e){200===e.status&&ct.push("/")}))}}};const at=_()(tt,[["render",Ze]]);var nt=at,st=[{path:"/",name:"Home",component:W},{path:"/about",name:"About",component:re},{path:"/register",name:"Register",component:Ue},{path:"/login",name:"Login",component:_e},{path:"/phrases",name:"Phrases",component:nt}],rt=Object(P["a"])({history:Object(P["b"])(),routes:st}),ct=rt,ot=a("9483");Object(ot["a"])("".concat("/static/src/vue/dist/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),a("b383"),Object(n["c"])(R).use(ct).use(C).mount("#app")},"734e":function(e,t,a){e.exports=a.p+"img/drunk.png"},"909e":function(e,t,a){},b383:function(e,t,a){},be3b:function(e,t){},f189:function(e,t,a){"use strict";a("0b87")}});
//# sourceMappingURL=app.js.map