(function(e){function t(t){for(var s,c,o=t[0],i=t[1],l=t[2],p=0,d=[];p<o.length;p++)c=o[p],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&d.push(n[c][0]),n[c]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,o=1;o<a.length;o++){var i=a[o];0!==n[i]&&(s=!1)}s&&(r.splice(t--,1),e=c(c.s=a[0]))}return e}var s={},n={app:0},r=[];function c(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=s,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)c.d(a,s,function(t){return e[t]}.bind(null,s));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/static/src/vue/dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=i;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"11ee":function(e,t,a){"use strict";a("ee76")},"2e93":function(e,t,a){},"52c7":function(e,t,a){},"52fd":function(e,t,a){"use strict";a("52c7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("be3b");var s=a("f2bf");function n(e,t,a,n,r,c){var o=Object(s["y"])("Navbar"),i=Object(s["y"])("router-view");return Object(s["r"])(),Object(s["f"])("div",null,[Object(s["i"])(o),Object(s["i"])(i)])}var r=function(e){return Object(s["u"])("data-v-b3928398"),e=e(),Object(s["s"])(),e},c={class:"navbar"},o={class:"container"},i={class:"navbar-brand"},l={class:"title m-auto has-text-primary"},u=Object(s["h"])("DrinkIf"),p=r((function(){return Object(s["g"])("a",{class:"navbar-item",href:"#"},null,-1)})),d=r((function(){return Object(s["g"])("span",{class:"navbar-burger burger","data-target":"navbarMenu"},[Object(s["g"])("span"),Object(s["g"])("span"),Object(s["g"])("span")],-1)})),b={id:"navbarMenu",class:"navbar-menu"},f={class:"navbar-end"},h={key:0,class:"navbar-item"},g=Object(s["h"])("Yours phrases"),O={class:"navbar-item"},m=Object(s["h"])("Login"),j={key:1,href:"/logout"};function v(e,t,a,n,r,v){var y=Object(s["y"])("router-link");return Object(s["r"])(),Object(s["f"])("nav",c,[Object(s["g"])("div",o,[Object(s["g"])("div",i,[Object(s["g"])("p",l,[Object(s["i"])(y,{to:"/"},{default:Object(s["F"])((function(){return[u]})),_:1})]),p,d]),Object(s["g"])("div",b,[Object(s["g"])("div",f,[null!=e.$store.state.user?(Object(s["r"])(),Object(s["f"])("div",h,[Object(s["i"])(y,{to:"/phrases"},{default:Object(s["F"])((function(){return[g]})),_:1})])):Object(s["e"])("",!0),Object(s["g"])("div",O,[null==e.$store.state.user?(Object(s["r"])(),Object(s["d"])(y,{key:0,to:"/login"},{default:Object(s["F"])((function(){return[m]})),_:1})):Object(s["e"])("",!0),null!=e.$store.state.user?(Object(s["r"])(),Object(s["f"])("a",j,"Logout")):Object(s["e"])("",!0)])])])])])}a("fb6a"),a("d3b7"),a("159b");var y={name:"Navbar",props:{},computed:{}};document.addEventListener("DOMContentLoaded",(function(){var e=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);e.length>0&&e.forEach((function(e){e.addEventListener("click",(function(){var t=e.dataset.target,a=document.getElementById(t);e.classList.toggle("is-active"),a.classList.toggle("is-active")}))}))}));a("7279");var _=a("d959"),N=a.n(_);const k=N()(y,[["render",v],["__scopeId","data-v-b3928398"]]);var x=k,S={name:"App",components:{Navbar:x},mounted:function(){this.$store.commit("updateUser",window.user),this.$store.dispatch("getPhrases")}};const w=N()(S,[["render",n]]);var R=w,I=(a("e9c4"),a("33d1"),a("ea98"),a("a434"),a("5502")),M=a("bc3a"),J=a.n(M),P=Object(I["a"])({state:{user:null,doNotRepeat:null!=JSON.parse(localStorage.getItem("doNotRepeat"))&&JSON.parse(localStorage.getItem("doNotRepeat")),current_phrase:null==JSON.parse(localStorage.getItem("current_phrase"))?{phrase_text:"",phrase_id:null}:JSON.parse(localStorage.getItem("current_phrase")),history:[],available:null==JSON.parse(localStorage.getItem("available"))?[]:JSON.parse(localStorage.getItem("available")),min:null==JSON.parse(localStorage.getItem("min"))?0:JSON.parse(localStorage.getItem("min")),max:null==JSON.parse(localStorage.getItem("max"))?100:JSON.parse(localStorage.getItem("max")),phrases:[]},mutations:{increaseCounter:function(e){e.current_phrase++},decreaseCounter:function(e){e.current_phrase--},set_phrase:function(e,t){null!=e.current_phrase&&e.history.push(e.current_phrase),e.current_phrase=t,localStorage.setItem("current_phrase",JSON.stringify(e.current_phrase))},random_phrase:function(e){if(e.doNotRepeat){if(e.available.length<=0)return;var t=Math.ceil(0),a=Math.floor(e.available.length-1),s=Math.floor(Math.random()*(a-t+1)+t),n=e.available.indexOf(e.available.at(s));this.commit("set_phrase",e.available.at(s)),n>-1&&e.available.splice(n,1),localStorage.setItem("available",JSON.stringify(e.available))}else{var r=Math.ceil(e.min),c=Math.floor(e.max),o=Math.floor(Math.random()*(c-r+1)+r);this.commit("set_phrase",e.phrases.at(o))}},updateMax:function(e,t){var a=parseInt(t);a!=e.max&&(isNaN(a)||(e.max=a,localStorage.setItem("max",JSON.stringify(a)),this.commit("updateDoNotRepeat",e.doNotRepeat)),this.commit("set_phrase",{phrase_text:"",phrase_id:null}))},updateMin:function(e,t){var a=parseInt(t);a!=e.min&&(isNaN(a)||(e.min=a,localStorage.setItem("min",JSON.stringify(a)),this.commit("updateDoNotRepeat",e.doNotRepeat)),this.commit("set_phrase",{phrase_text:"",phrase_id:null}))},updateDoNotRepeat:function(e,t){if(e.doNotRepeat=t,localStorage.setItem("doNotRepeat",JSON.stringify(t)),e.doNotRepeat){e.available=[];for(var a=e.max,s=e.min,n=s;n<=a-1;n++)e.available.push(e.phrases.at(n));localStorage.setItem("available",JSON.stringify(e.available))}},updateUser:function(e,t){null!=t&&(e.user=t)},updatePhrases:function(e,t){e.phrases=t}},actions:{getPhrases:function(e){var t=e.commit;J.a.get("/get_phrases").then((function(e){console.log(e.data.phrases),t("updatePhrases",e.data.phrases),t("updateMax",e.data.phrases.length),t("updateMin",0)})).catch((function(e){console.log(e)}))},random_phrase:function(e){var t=e.commit;t("random_phrase")}},modules:{}}),$=a("6c02"),C=a("734e"),D=a.n(C),A=function(e){return Object(s["u"])("data-v-1a5c9ea7"),e=e(),Object(s["s"])(),e},L={class:"hero"},U={class:"container"},F=A((function(){return Object(s["g"])("div",{class:"has-text-centered m-3"},[Object(s["g"])("figure",{alt:"Drunk",class:"image is-128x128 is-inline-block"},[Object(s["g"])("img",{src:D.a,alt:""})])],-1)})),T={class:"title has-text-centered"},G={class:"has-text-centered m-3"},V={class:"has-text-centered m-3"},q={for:"doNotRepeat",class:"has-text-white"},E=Object(s["h"])(" Do not repeat "),X={key:0,class:"message is-primary"},H={class:"message-body"},B=Object(s["h"])(" There are still available "),Y=Object(s["h"])(" phrases. ");function z(e,t,a,n,r,c){return Object(s["r"])(),Object(s["f"])("section",L,[Object(s["g"])("div",U,[Object(s["g"])("div",null,[F,Object(s["g"])("div",T,Object(s["A"])(e.$store.state.current_phrase.phrase_text),1)]),Object(s["g"])("div",G,[Object(s["g"])("button",{onClick:t[0]||(t[0]=function(t){return e.$store.dispatch("random_phrase")}),class:"button is-primary is-outlined"}," New Phrase ")]),Object(s["g"])("div",V,[Object(s["g"])("label",q,[Object(s["G"])(Object(s["g"])("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.doNotRepeat=e}),id:"doNotRepeat"},null,512),[[s["C"],c.doNotRepeat]]),E])]),c.doNotRepeat?(Object(s["r"])(),Object(s["f"])("article",X,[Object(s["g"])("div",H,[Object(s["g"])("p",null,[B,Object(s["g"])("strong",null,Object(s["A"])(e.$store.state.available.length),1),Y])])])):Object(s["e"])("",!0)])])}var K={name:"Home",props:{},mounted:function(){},computed:{doNotRepeat:{get:function(){return this.$store.state.doNotRepeat},set:function(e){this.$store.commit("updateDoNotRepeat",e)}},min:{get:function(){return this.$store.state.min},set:function(e){this.$store.commit("updateMin",e)}},max:{get:function(){return this.$store.state.max},set:function(e){this.$store.commit("updateMax",e)}}}};a("52fd");const Q=N()(K,[["render",z],["__scopeId","data-v-1a5c9ea7"]]);var W=Q,Z={class:"about"},ee=Object(s["g"])("h1",null,"This is an about page",-1),te=[ee];function ae(e,t){return Object(s["r"])(),Object(s["f"])("div",Z,te)}const se={},ne=N()(se,[["render",ae]]);var re=ne,ce={class:"columns"},oe={id:"login-view",class:"column is-half is-offset-one-quarter"},ie={class:"card m-6 p-4"},le=Object(s["g"])("h1",{class:"has-text-black title"},"Login",-1),ue={class:"field"},pe={class:"control has-icons-left has-icons-right"},de=Object(s["g"])("span",{class:"icon is-small is-left"},[Object(s["g"])("i",{class:"fas fa-envelope"})],-1),be=Object(s["g"])("span",{class:"icon is-small is-right"},[Object(s["g"])("i",{class:"fas fa-check"})],-1),fe={class:"field"},he={class:"control has-icons-left"},ge=Object(s["g"])("span",{class:"icon is-small is-left"},[Object(s["g"])("i",{class:"fas fa-lock"})],-1),Oe={class:"button"},me=Object(s["h"])("Create account");function je(e,t,a,n,r,c){var o=Object(s["y"])("router-link");return Object(s["r"])(),Object(s["f"])("div",ce,[Object(s["g"])("div",oe,[Object(s["g"])("div",ie,[le,Object(s["g"])("div",ue,[Object(s["g"])("p",pe,[Object(s["G"])(Object(s["g"])("input",{class:"input",type:"username",placeholder:"username","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.username=e})},null,512),[[s["D"],r.username]]),de,be])]),Object(s["g"])("div",fe,[Object(s["g"])("p",he,[Object(s["G"])(Object(s["g"])("input",{class:"input",type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.password=e})},null,512),[[s["D"],r.password]]),ge])]),Object(s["g"])("div",null,[Object(s["g"])("button",{onClick:t[2]||(t[2]=function(e){return c.login()}),id:"login-button",class:"button"},"Login")]),Object(s["g"])("div",Oe,[Object(s["i"])(o,{to:"/register"},{default:Object(s["F"])((function(){return[me]})),_:1})])])])])}a("ac1f"),a("1276");function ve(e){var t="; ".concat(document.cookie),a=t.split("; ".concat(e,"="));if(2===a.length)return a.pop().split(";").shift()}var ye={data:function(){return{username:"",password:""}},methods:{login:function(){var e=ve("csrftoken");console.log(e),J.a.post("/login",{username:this.username,password:this.password},{headers:{"X-CSRFToken":e}}).then((function(e){200===e.status&&(window.location.href="/")}))}}};a("f189");const _e=N()(ye,[["render",je]]);var Ne=_e,ke={class:"columns"},xe={id:"login-view",class:"column is-half is-offset-one-quarter"},Se={class:"card m-6 p-4"},we=Object(s["g"])("h1",{class:"has-text-black title"},"Register",-1),Re={class:"field"},Ie={class:"control has-icons-left has-icons-right"},Me=Object(s["g"])("span",{class:"icon is-small is-left"},[Object(s["g"])("i",{class:"fas fa-envelope"})],-1),Je=Object(s["g"])("span",{class:"icon is-small is-right"},[Object(s["g"])("i",{class:"fas fa-check"})],-1),Pe={class:"field"},$e={class:"control has-icons-left"},Ce=Object(s["g"])("span",{class:"icon is-small is-left"},[Object(s["g"])("i",{class:"fas fa-lock"})],-1);function De(e,t,a,n,r,c){return Object(s["r"])(),Object(s["f"])("div",ke,[Object(s["g"])("div",xe,[Object(s["g"])("div",Se,[we,Object(s["g"])("div",Re,[Object(s["g"])("p",Ie,[Object(s["G"])(Object(s["g"])("input",{class:"input",type:"username",placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.username=e})},null,512),[[s["D"],r.username]]),Me,Je])]),Object(s["g"])("div",Pe,[Object(s["g"])("p",$e,[Object(s["G"])(Object(s["g"])("input",{class:"input",type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.password=e})},null,512),[[s["D"],r.password]]),Ce])]),Object(s["g"])("div",null,[Object(s["g"])("button",{onClick:t[2]||(t[2]=function(t){return c.register(e.inputs)}),id:"register-button",class:"button"},"Register")])])])])}function Ae(e){var t="; ".concat(document.cookie),a=t.split("; ".concat(e,"="));if(2===a.length)return a.pop().split(";").shift()}var Le={data:function(){return{username:"",password:""}},methods:{register:function(){var e=Ae("csrftoken");J.a.post("/register",{username:this.username,password:this.password},{headers:{"X-CSRFToken":e}}).then((function(e){200===e.status&&(window.location.href="/")}))}}};a("11ee");const Ue=N()(Le,[["render",De]]);var Fe=Ue,Te={class:"columns"},Ge={id:"phrases-view",class:"column is-half is-offset-one-quarter"},Ve={class:"card m-6 p-4"},qe=Object(s["g"])("h1",{class:"has-text-black title"},"Add phrases",-1),Ee=Object(s["g"])("p",{class:"has-text-black"},"Add phrases here",-1),Xe={class:"m-1"},He={class:"columns"},Be={class:"column is-one-third is-offset-one-third"},Ye={class:"card m-2 p-3"},ze={class:"columns"},Ke={class:"column has-text-black"},Qe=["onClick"];function We(e,t,a,n,r,c){return Object(s["r"])(),Object(s["f"])("div",null,[Object(s["g"])("div",Te,[Object(s["g"])("div",Ge,[Object(s["g"])("div",Ve,[qe,Ee,Object(s["G"])(Object(s["g"])("textarea",{class:"textarea",placeholder:"","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.phrases=t})},null,512),[[s["D"],e.phrases]]),Object(s["g"])("div",Xe,[Object(s["g"])("button",{class:"button is-primary is-outlined",onClick:t[1]||(t[1]=function(e){return c.add_phrases()})}," Add phrases ")])])])]),Object(s["g"])("ul",null,[(Object(s["r"])(!0),Object(s["f"])(s["a"],null,Object(s["x"])(e.$store.state.phrases,(function(e){return Object(s["r"])(),Object(s["f"])("li",{key:e.id,class:""},[Object(s["g"])("div",He,[Object(s["g"])("div",Be,[Object(s["g"])("div",Ye,[Object(s["g"])("div",ze,[Object(s["g"])("div",Ke,Object(s["A"])(e.phrase_text),1),Object(s["g"])("button",{class:"button is-danger is-outlined m-2",onClick:function(t){return c.delete_phrase(e.id)}}," Delete ",8,Qe)])])])])])})),128))])])}function Ze(e){var t="; ".concat(document.cookie),a=t.split("; ".concat(e,"="));if(2===a.length)return a.pop().split(";").shift()}var et={methods:{delete_phrase:function(e){var t=this,a=Ze("csrftoken");J.a.post("/delete_phrase",{id:e},{headers:{"X-CSRFToken":a}}).then((function(e){console.log(e),t.$store.dispatch("getPhrases")})).catch((function(e){console.log(e)}))},add_phrases:function(){for(var e=this.phrases.split(/\r?\n/),t=0;t<e.length;t++){var a=e[t],s=a.split(". ");s.length>1?e[t]=s[1]:e[t]=s[0]}console.log(e);var n=Ze("csrftoken");J.a.post("/add_phrases",{phrases:e},{headers:{"X-CSRFToken":n}}).then((function(e){200===e.status&&rt.push("/")}))}}};const tt=N()(et,[["render",We]]);var at=tt,st=[{path:"/",name:"Home",component:W},{path:"/about",name:"About",component:re},{path:"/register",name:"Register",component:Fe},{path:"/login",name:"Login",component:Ne},{path:"/phrases",name:"Phrases",component:at}],nt=Object($["a"])({history:Object($["b"])(),routes:st}),rt=nt;a("b383"),Object(s["c"])(R).use(rt).use(P).mount("#app")},6294:function(e,t,a){},7279:function(e,t,a){"use strict";a("2e93")},"734e":function(e,t,a){e.exports=a.p+"img/drunk.png"},b383:function(e,t,a){},be3b:function(e,t){},ee76:function(e,t,a){},f189:function(e,t,a){"use strict";a("6294")}});
//# sourceMappingURL=app.js.map